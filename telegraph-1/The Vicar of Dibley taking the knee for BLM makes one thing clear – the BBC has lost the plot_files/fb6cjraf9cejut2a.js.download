!function(e){function t(t){for(var n,i,a=t[0],o=t[1],s=0,l=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);l.length;)l.shift()()}var n={},r={5:0,1:0,2:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+""+({3:"chunk-Debug?v=20201208",4:"chunk-Tunnel?v=20201208"}[e]||e)+".js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,n[1](c)}r[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.liftigniterJsonpFunction=window.liftigniterJsonpFunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=o;i(i.s=37)}([function(e,t,n){"use strict";var r=n(1),i=n(4),a=n(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=window.$igniter_var||window.$petametricsVar||window.$petametrics_var,c={trial:!1,trackingWord:"donottrack",extensionOff:!1,disabledCust:{"3ra9ebvgp1gnl9gu":!0,jo34k2op9eztyzj1:!0,llbf18lltc4upsf8:!0,"3f2nr8ipir0923el":!0,gn0ee46lqa6l86dv:!0,j8vr8s11slka1e3d:!0,u7nof0s7krrqfgav:!0,ih1aak4h3agrsu97:!0},debug:!1,debugConversion:!1,showLiveWarnings:!0,eventTriggers:{},activity:{debugBuffer:!1,activityServer:"//query.petametrics.com",activitySamplingPercent:100,itemRegex:void 0,excludeRegex:void 0,includeBrowsingHistory:!1,canonicalUrlTransform:function(e){return e},urlTransform:function(e){return e},defaultApiEvents:["pageview","stuck_10s","stuck_3m"],blockedApiEvents:[],robustMsgSlot:"_igslot_",useRobustMsgSlot:!0,useFetch:!1},useCanonicalUrl:!0,googleAnalytics:{globalFunction:void 0,trackerName:void 0,includeEvents:void 0,markEventsAsNonInteraction:void 0},globalTracking:!0,disableCustomWidget:!1,useThirdParty:!1,botRegex:/bot|crawler|spider|pycurl|larbin|findlinks|ia_archiver|htdig|slurp|HeadlessChrome/i,knownThirdPartyRegex:/webcache.googleusercontent.com|translate.googleusercontent.com|www.translatoruser.net|translate.baiducontent.com|babelserver.org|jsfiddle.net|fiddle.jshell.net|cc.bingj.com|translate.ru/,knownBadActorRegex:void 0,postQuery:!1,noTag:!1,limitHistory:!1,sdk:{queryServer:"//query.petametrics.com",backupQueryServer:"//query1.petametrics.com",queryApiVersion:"v3",getQueryInfo:!1,requestFields:["url","author","title","rank","thumbnail"],mandatoryRequestFields:[],arrayRequestFields:[],mandatoryArrayRequestFields:[],multiFetch:!1,multiTrack:!1,enableBackup:!0,requestFieldsAON:!1,customTrackFunc:void 0,widgetAnalysis:void 0,retry:!0,manualHist:void 0,iden:"url",historyTracking:!0,ogUrlHistory:!1,pushStateReset:!1,replaceStateReset:!1,stabilize:!1,alwaysSendWidgetResponse:!0,flipQueue:!1,callHashType:"opts",persistentQueryOptsKey:"_igpqo",persistentConfigKey:"_igpc",pushStateCallback:function(){},checkIfVisibleItemsOnlyCurrentUrl:!0,checkIfVisibleItemsIncludeCurrentUrl:!0,stripParamsWhenCheckingVisibleItems:!0,checkItemsMismatch:!0,checkItemsMismatchByWidgetName:{},failIfCurrentItemTracked:!1,maxVizItemsToSend:30,renderTransform:function(e){return e},timerShownLikelyDuplicate:500,timerBufferShown:0,useLocationForCurrentUrl:!1,addOnVisibleWhenTracking:!0,widgetHasVaryingLength:!1,failTrackUntilNewVisibleItemsInSpaPageReset:!1,autoRenderItemTransform:function(e){return e},transformBaseHTML:void 0,waitForATagsOnWaitForSelectAll:void 0,autoRenderCustomAbSlice:void 0,overrideShouldFetch:!1,removeCurrentUrlFromVisibleItems:!1,notifyForEmptyFetchQueue:!1,requireWidgetNameInRegister:!0,maybeOverrideSetContext:void 0,debugQuery:!1,debugRender:!1,debugTrack:!1,filterElementsByCssSelector:function(e){return e},filterVizByCssSelector:void 0,allowTrackingWithoutTargetElement:!1,checkIfScrapingDelayed:!0,trackingBlacklist:["javascript: void(0);","javascript:void(0);","#"],allowDelayedRegister:!1,replaceDotsInTemplate:!0,autoRenderPreprocTrackingFunc:null,domNodeInserted:{interval:100,numTries:10},sendRequestErrorEventDetails:!1,overrideShouldFetchTimeoutDuration:5e3,hashBeforeUrlParams:!1,postProcessFunction:function(e,t,n){return n(e,t)},overrideViClickUrlWithResponseVisibleItemsByWidgetName:null,fetchTimeout:1e4,waitTimeBeforeRetry:4300,activated:!0,hashChangeReset:!1,slotRenderCondition:void 0,forceBaseSliceTrackingInAutoRender:!1,ignoreCaseWhenRemovingCuFromVi:!1,trackAllElementsWithHref:!1,numCharsInHrefNotFoundErrString:1e3,ignoreNonMatchingTrackVersionClicks:!1,allowLazyRegister:!1,extraQueryOpts:{},autoRenderOnTimeoutByWidgetName:{}},consentManagement:{sendScriptErrorOnTcfApi:!0,checkTcfApiFunction:function(e){window.__tcfapi&&c.consentManagement.sendScriptErrorOnTcfApi&&(c.consentManagement.forceUserConsentValue=!0,a.a.eventCounts.__tcfapi_script_error||(i.a.updateInternalEventCounts("__tcfapi_script_error"),r.U("__tcfapi exists on this page"))),e(!0)},forceUserConsentValue:null},clickHist:{onLocalStorage:!0,onCookie:!1,urlTrans:function(e){return e},clickHistCKey:"_igch",clickHistLKey:"_igClkHis",cap:10,send:!1},longHist:{active:!1,recentDropSize:0},trackingTransURL:function(e){return e},customContext:{id:void 0},qOpt:{dynScrollInfo:!1,screenDim:!1,sendTimer:!0},shown:{active:!1,vizSendCap:void 0},inventory:{inventoryServer:"//query.petametrics.com",inventoryApiVersion:"v1",version:void 0,collect:!0,id:"url",jsonTransform:void 0,collectJSON:!0,collectOpenGraph:!0,loadExportables:!0,mandatoryOpenGraphFeatures:[],features:void 0,mandatoryFeatures:["title","url"],filters:[{name:"noIndex",value:"true"}],useOpenGraphForCanonicalUrl:!0,useLinkRelForCanonicalUrl:!0,defaultType:"article",stripTagsForCanonicalUrl:!0,stripHashesForCanonicalUrl:!0,canonicalUrlTransform:function(e){return e},itemRegex:void 0,excludeRegex:void 0,ttl:0,alwaysRefreshCanonicalUrl:!1,minTimeToWaitAfterDomComplete:void 0,softFailOnLiMetadataScrapeJSON:!0,debug:!1,usePost:!1,maxUrlLength:15e3,useCustomInventoryTrigger:!1,inventoryReadyEvent:null},transfer:{timeoutMillis:1500},customTrackFunc:void 0,pmVar:s,jsKey:null,loadedAt:window[s].l,version:20201208,cookieDomain:r.A(window.location.hostname),permKey:"_ig",sessKey:"_igt",longHistKey:"_ighl",robustPostMsgSlot:"_igslotpost_",robustUseCookie:!0,robustUseStorage:!0,latestVizKey:"_iglviz_",lastClick:"_iglclk_",botClassificationKey:"_igb",gid:null,uid:null,userHash:null,isBadActor:null,igHeadless:null,outOfSubsample:null,sid:null,pvid:null,hist:null,histSettings:{stripTags:!0,stripHashes:!0,stripDashes:!1,fixHttps:!1,deduplicate:!0,maxItems:10,histRegex:/(.*)/,origin:void 0,transform:function(e){return e},globalTransform:function(e){return e}},getHistList:function(){return this.sdk.manualHist?this.sdk.manualHist:this.hist?(this.hist=this.hist.split(",").join("|"),this.hist.split("|").map((function(e){return decodeURIComponent(e)}))):[]},getClickHistList:function(){},globalCtx:{},adblockCheck:!1,adblocker:!1,userAgent:navigator.userAgent,language:navigator.language,connection:{effectiveType:navigator.connection&&navigator.connection.effectiveType?navigator.connection.effectiveType:"unknown",rtt:navigator.connection&&navigator.connection.rtt?navigator.connection.rtt:-1,downlink:navigator.connection&&navigator.connection.downlink?navigator.connection.downlink:-1},os:navigator.platform,colorDepth:window.screen&&window.screen.colorDepth,screenHeight:window.screen&&window.screen.height,screenWidth:window.screen&&window.screen.width,currentUrl:window.location.href,referrer:document.referrer&&document.referrer.slice(0,200),isInIframe:!1,checkElementParentIsActuallyVisible:!1,enableSendFromHeadless:!0,timers:{stuck_10s:1e4,stuck_3m:18e4},onVisibleImmediatelyAfterScroll:!0,serverConfig:{},tunnel:{debug:!0,originSilence:!0,noMessageSilence:!1},refresh:function(){this.referrer=this.currentUrl,this.currentUrl=window.location.href},init:function(e){for(var t in e)this.hasOwnProperty(t)&&"object"===o(this[t])&&null!==this[t]&&!this[t].length?this[t]=r.I(this[t],e[t]):this[t]=e[t]},firstTime:!1,isTunneling:!1};t.a=c},function(e,t,n){"use strict";n.d(t,"H",(function(){return _})),n.d(t,"I",(function(){return v})),n.d(t,"J",(function(){return y})),n.d(t,"s",(function(){return w})),n.d(t,"w",(function(){return C})),n.d(t,"y",(function(){return I})),n.d(t,"x",(function(){return O})),n.d(t,"S",(function(){return D})),n.d(t,"Q",(function(){return M})),n.d(t,"A",(function(){return R})),n.d(t,"B",(function(){return x})),n.d(t,"N",(function(){return S})),n.d(t,"q",(function(){return P})),n.d(t,"D",(function(){return A})),n.d(t,"t",(function(){return B})),n.d(t,"z",(function(){return U})),n.d(t,"v",(function(){return L})),n.d(t,"u",(function(){return W})),n.d(t,"i",(function(){return K})),n.d(t,"g",(function(){return N})),n.d(t,"l",(function(){return j})),n.d(t,"k",(function(){return F})),n.d(t,"m",(function(){return q})),n.d(t,"j",(function(){return H})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return Q})),n.d(t,"f",(function(){return z})),n.d(t,"p",(function(){return J})),n.d(t,"h",(function(){return G})),n.d(t,"K",(function(){return $})),n.d(t,"L",(function(){return X})),n.d(t,"F",(function(){return Y})),n.d(t,"E",(function(){return Z})),n.d(t,"a",(function(){return ee})),n.d(t,"U",(function(){return te})),n.d(t,"M",(function(){return re})),n.d(t,"V",(function(){return ie})),n.d(t,"W",(function(){return ae})),n.d(t,"R",(function(){return oe})),n.d(t,"b",(function(){return ce})),n.d(t,"P",(function(){return le})),n.d(t,"O",(function(){return ue})),n.d(t,"r",(function(){return de})),n.d(t,"e",(function(){return fe})),n.d(t,"C",(function(){return me})),n.d(t,"G",(function(){return ge})),n.d(t,"c",(function(){return pe})),n.d(t,"T",(function(){return he})),n.d(t,"d",(function(){return _e}));var r=n(17),i=n(5),a=n(0),o=n(4),s=n(2),c=n(15),l=n.n(c),u=n(7);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window;var h=0;function _(e){var t;if(null==e||"object"!=p(e))return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array&&e.length<1e4){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=_(e[n]);return t}if(e instanceof Element)return e.cloneNode(!0);if(e instanceof Object){for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=_(e[i]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")}function v(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function y(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var i in t)t.hasOwnProperty(i)&&(!e.hasOwnProperty(i)||"object"!==p(e[i])||null===e[i]||e[i].length?n[i]=t[i]:n[i]=y(e[i],t[i]));return n}function w(){var e=r.a.getCurrentTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)}))}var b=!0,k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],E=k.length;for(var T in{toString:null})b=!1;function C(e){if("object"!=p(e)&&"function"!=typeof e||null===e)throw new TypeError("getObjectKeys called on a non-object");var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);if(b)for(var r=0,i=E;r<i;r++){var a=k[r];e.hasOwnProperty(a)&&t.push(a)}return t}function I(e,t,n){if(e&&t in e&&p(e[t])==n)return e[t];F("Invalid or missing parameter: "+t)}function O(e,t,n){return t in e?e[t]:n}function D(e){return C(e).length}function M(e,t){try{return e instanceof Element?e.outerHTML:JSON.stringify(e)}catch(e){return t||"stringification failed, error: "+e+", stack trace: "+e.stack}}function R(e){var t=e.split(".");return"com"==t[t.length-1]?t.slice(-2).join("."):null}function x(e){var t=(new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[null,""])[1];return decodeURIComponent(t.replace(/\+/g,"%20"))||null}function S(e,t){var n=e.split("?");if(n.length>=2){for(var r=encodeURIComponent(t)+"=",i=n[1].split(/[&;]/g),a=i.length;a-- >0;)-1!==i[a].lastIndexOf(r,0)&&i.splice(a,1);return e=n[0]+(i.length>0?"?"+i.join("&"):"")}return e}function P(e){for(var t=5381,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return Math.abs(t)}function A(e){for(var t in e)e[t]||delete e[t];return P(JSON.stringify(e))}function B(){return a.a.uid&&"string"==typeof a.a.uid&&-1==ce.indexOf(a.a.uid)?P(a.a.uid):a.a.sid&&"string"==typeof a.a.sid&&-1==ce.indexOf(a.a.sid)?P(a.a.sid):a.a.pvid&&"string"==typeof a.a.pvid&&-1==ce.indexOf(a.a.pvid)?P(a.a.pvid):P(w())}function U(){return(new Date).getTime()}function L(){return window&&window.performance&&window.performance.now&&"function"==typeof window.performance.now?0|window.performance.now():U()}function W(){var e=0,t=0;try{return window.performance&&window.performance.memory&&window.performance.memory.usedJSHeapSize&&(e=window.performance.memory.usedJSHeapSize),window.performance&&window.performance.memory&&window.performance.memory.totalJSHeapSize&&(t=window.performance.memory.totalJSHeapSize),{usedJS:e,totalJS:t}}catch(e){return F("Unexpected error when running performance code",e),{}}}function K(){if(window.console){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0]&&"string"==typeof t[0]&&-1!=t[0].indexOf("LI:")||t.unshift("LI: ["+L()+"ms]:"),console.debug&&console.debug.apply?console.debug.apply(console,t):console.log&&console.log.apply?console.log.apply(console,t):console.log&&console.log(t)}}function N(){if(a.a&&a.a.debug){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("LI: [debug]: ["+L()+"ms]:"),K.apply({},t)}}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0]&&"string"==typeof t[0]&&-1!=t[0].indexOf("LI:")||t.unshift("LI: ["+L()+"ms]:"),window.console&&console.log&&(console.log.apply?console.log.apply(console,t):console.log(t))}function F(){if(a.a&&a.a.showLiveWarnings){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("LI: [showLiveWarnings]: ["+L()+"ms]:"),j.apply({},t)}}function q(){if(a.a&&a.a.sdk&&a.a.sdk.debugQuery){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("LI: [sdk.debugQuery] ["+L()+"ms]:"),K.apply({},t)}}function H(){if(a.a&&a.a.inventory&&a.a.inventory.debug){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("LI: [inventory.debug] ["+L()+"ms]:"),K.apply({},t)}}function V(){if(a.a&&a.a.sdk&&a.a.sdk.debugRender){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("LI: [sdk.debugRender] ["+L()+"ms]:"),K.apply({},t)}}function Q(){if(a.a&&a.a.sdk&&a.a.sdk.debugTrack){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("LI: [sdk.debugTrack] ["+L()+"ms]:"),K.apply({},t)}}function z(){if(a.a&&a.a.activity&&a.a.activity.debugBuffer){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("LI: [activity.debugBuffer] ["+L()+"ms]:"),K.apply({},t)}}function J(){if(a.a&&a.a.tunnel&&a.a.tunnel.debug){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("LI: [tunnel.debug] ["+L()+"ms]:"),K.apply({},t)}}function G(){if(a.a&&a.a.debugConversion){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.unshift("LI: [debugConversion] ["+L()+"ms]:"),K.apply({},t)}}function $(){if(!a.a)return!0;var e=a.a.botClassificationKey&&i.a&&"1"==i.a.readCookie(a.a.botClassificationKey);return e&&!a.a.botRegex.test(a.a.userAgent)&&(a.a.userAgent=a.a.userAgent+";bot-because-blocked-before"),!a.a.botRegex.test(a.a.userAgent)&&!e}function X(){return!a.a||i.a&&i.a.hasCookiesEnabled()&&"donottrack"!=a.a.uid&&"donottrack"!=i.a.readCookie(a.a.permKey)}function Y(e){return a.a.knownThirdPartyRegex&&a.a.knownThirdPartyRegex.test(e)}function Z(e){return void 0!==a.a.knownBadActorRegex&&a.a.knownBadActorRegex&&a.a.knownBadActorRegex.test(e)}function ee(){var e=navigator.userAgent;return e.indexOf("Android")>=0?parseFloat(e.slice(e.indexOf("Android")+8)):-1}function te(e,t,n,r){F("[WARN] "+(e||"")+(t?": "+t+", full stack trace: "+t.stack:""));var i=(e||"")+(e&&t&&t.stack?": ":"")+(t&&t.stack||""),a={errs:(e||"")+(t?": "+t:""),fullErrorDetails:i};n&&"string"==typeof n&&(F("widget name: "+n),a.w=n),r&&"string"==typeof r&&(F("source: "+r),a.src=r),s.a.updateErrorMessagesByEventType("script_error",i),o.a.send("script_error",a)}function ne(e){var t=m(e,6),n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5];switch(n){case"name":case"&":return[n,r.replace(/\./g,"__dot__"),i,a];case"text":return[n,r,i,a];case"^":case"#":return[n,r.replace(/\./g,"__dot__"),i,a,o.map(ne),s];case"!":case">":case"=":return[n,r,i,a];default:return console.error('Unexpected type "'.concat(n,'" at position ').concat(i,"-").concat(a)),[n,r,i,a]}}function re(){return l.a.resolve(null)}function ie(e,t,n){var r=document.querySelector(e);return null===r?new l.a((function(e){return setTimeout(e,t)})).then((function(){return(h+=t)%1e3==0&&V("selector ".concat(e," not found. Time waited so far in ms: ").concat(h)),n>1?ie(e,t,n-1):r})):l.a.resolve(r)}function ae(e,t,n,r){var i=document.querySelectorAll(e);return i.length<r?new l.a((function(e){return setTimeout(e,t)})).then((function(){return n>1?ae(e,t,n-1,r):i})):l.a.resolve(i)}function oe(e,t,n){o.a.send(e,v(n||{},{errs:t})),s.a.updateErrorMessagesByEventType(e,t)}var se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"openingTag",void 0),f(this,"closingTag",void 0),this.openingTag="{{",this.closingTag="}}"}var t,n,r;return t=e,(n=[{key:"tokenToTemplate",value:function(e){var t=m(e,6),n=t[0],r=t[1],i=t[2],a=t[3],o=t[4];switch(t[5],n){case"name":return"".concat(this.openingTag).concat(r).concat(this.closingTag);case"&":case">":case"!":return"".concat(this.openingTag).concat(n).concat(r).concat(this.closingTag);case"^":case"#":return"".concat(this.openingTag).concat(n).concat(r).concat(this.closingTag)+"".concat(this.tokensToTemplate(o))+"".concat(this.openingTag,"/").concat(r).concat(this.closingTag);case"text":return r;case"=":var s="".concat(this.openingTag,"=").concat(r,"=").concat(this.closingTag),c=m(r.split(/\s+/,2),2);return this.openingTag=c[0],this.closingTag=c[1],s;default:return console.error('Unexpected type "'.concat(n,'" at position ').concat(i,"-").concat(a)),"".concat(this.openingTag).concat(n).concat(r).concat(this.closingTag)}}},{key:"tokensToTemplate",value:function(e){var t=this;return e.map((function(e){return t.tokenToTemplate(e)})).join("")}}])&&d(t.prototype,n),r&&d(t,r),e}();var ce=["","null","undefined","guest","unknown","donottrack","nocookieaccess"];function le(e){var t,n=u.a.Mustache.parse(e);return t=n.map(ne),(new se).tokensToTemplate(t)}function ue(e){var t={};for(var n in e){var r=n.replace(/\./g,"__dot__");if(Array.isArray(e[n])){for(var i=0;i<e[n].length;i++)t[r+"__dot__"+i]=e[n][i];t[n]=e[n]}else t[r]=e[n]}return t}function de(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return e[n]}function fe(){return window.Promise||F('Command failed because window.Promise is undefined. To fix, set window.Promise by running $p("loadPromise"), then rerun the command.'),!!window.Promise}function me(e){te("chunk error",e)}function ge(e,t){try{return JSON.parse(e)}catch(n){return te("LI: error parsing JSON object "+t+"; original value: "+e,n),null}}function pe(e){var t=new RegExp(/[a-zA-Z0-9]+/g),n=e.match(t);return n&&n.length?n.length>1?n.map((function(e,t){return e=e.toLowerCase(),t>0?e[0].toUpperCase()+e.slice(1):e})).join(""):n[0]:""}function he(e){var t=L();return function(){var n=L()-t;s.a.browserClientTotalTimeTaken=s.a.browserClientTotalTimeTaken+n,N("timer: function: "+(e||"")+" took "+n+" ms to complete")}}function _e(e){return a.a.jsKey?!!a.a.disabledCust[a.a.jsKey]&&(F("Thank you for using LiftIgniter! Your jsKey "+a.a.jsKey+" is disabled. If you are interested in re-activating our service, please contact us at support@liftigniter.com"),e&&s.a.updateErrorMessagesByEventType("activity_send_error","LI: Disabled JavaScript key"+a.a.jsKey),!0):(F("LiftIgniter send called before LiftIgniter init. The most typical reasons: (a) you omitted the call to init, (b) you are including our JavaScript snippet twice (this could be twice on the page, or once on the page and once in Google Tag Manager, or twice in Google Tag Manager). If you have more questions, please contact support@liftigniter.com"),e&&s.a.updateErrorMessagesByEventType("activity_send_error","LI: Missing JavaScript key"),!0)}},function(e,t,n){"use strict";var r=n(1),i=n(0),a=n(3),o={buffer:{shown:{}},invocationLog:[],tunnelLog:[],fetchCalled:!1,persistentQueryOpts:{},persistentConfig:{},fetchData:{fetchIndex:1,started:!1,recsFetched:!1,finalized:!1,startTime:0,timeout:0,waitTimeBeforeRetry:0,fetchQueue:[],checkpointedFetchQueues:[],checkpointedCalls:[],checkpointedRecs:[],checkpointedRetried:[],dedupQueue:{},recs:{},calls:{},dedupMax:{},retried:{},givenUp:!1,callback:void 0,activeXHRs:[],modelQueryLoading:!1},eventCounts:{},tsplsByEventType:{},errorMessagesByEventType:{},warningMessagesByEventType:{},shownSourceMap:{},responseWidgetMap:{},shownWidgetMap:{},visibleWidgetMap:{},responseVisibleItemsByWidgetName:{},shownVisibleItemsByWidgetNameBeforeSpaPageReset:{},shownVisibleItemsByWidgetName:{},domNodeInsertedTriggeredBySlotId:{},inventoryData:{inventoryCollectOn:!1,collectStarted:!1,scrapingStarted:!1,scrapingAborted:!1,scrapingFinished:!1,inventorySent:!1,timing:{},scrapingAbortReason:{}},startupInfo:{},duplicatesDetected:[],clickUrls:[],timing:{shownTimes:{},visibleTimes:{},clickTimes:{}},mostRecentTrackingObject:{},mostRecentTrackedElements:{},currentTrackVersionByWidgetName:{},allowRegister:!0,xhrBroken:!1,urlListByEventType:{},setUserIdBacklog:null,queryExplanations:[],queryUrls:[],eventsEnabled:null,registerFetchQueue:[],browserClientTotalTimeTaken:0,processRegisterFetchQueue:function(e){var t=this.registerFetchQueue;if(r.m('Fetch completed with reason: "'+e+'". Processing next commands in the queue.',r.H(t)),t.length>0){for(var n=0,i=0;i<t.length;i++)if(n=i,t[i]&&"register"===t[i].command)delete t[i].command,a.a.register(t[i]);else if(t[i]&&"fetch"===t[i].command){delete t[i].command,a.a.fetch(t[i]);break}this.registerFetchQueue=this.registerFetchQueue.slice(n+1)}else r.m("No commands to process in registerFetchQueue.")},refresh:function(){this.fetchData=r.I(this.fetchData,{dedupQueue:{}})},checkpointAndClear:function(e){try{this.fetchData.checkpointedFetchQueues.push(this.fetchData.fetchQueue),this.fetchData.checkpointedCalls.push(this.fetchData.calls),this.fetchData.checkpointedRecs.push(this.fetchData.recs),this.fetchData.checkpointedRetried.push(this.fetchData.retried)}catch(e){r.U("could not checkpoint fetch queue",e)}try{this.abortActiveXHRs()}catch(e){r.U("could not abort active XHRs",e)}if(this.fetchData.fetchQueue=[],this.fetchData.calls={},this.fetchData.recs={},this.fetchData.retried={},this.fetchData.dedupQueue={},this.fetchData.finalized=!0,!0===i.a.sdk.multiFetch&&1==i.a.sdk.allowDelayedRegister&&(this.allowRegister=!0),"function"==typeof this.fetchData.callback){try{this.fetchData.callback(e)}catch(e){r.U("User-defined fetch callback unexpected exception",e)}this.fetchData.callback=void 0}},initializeFetchVariables:function(){this.fetchData.started&&(this.fetchData.fetchIndex+=1),this.fetchData.started=!1,this.fetchData.finalized=!1,this.fetchData.givenUp=!1,this.fetchData.recsFetched=!1},abortActiveXHRs:function(){r.m("Running abortActiveXHRs on "+this.fetchData.activeXHRs.length+" XHR(s)",this.fetchData.activeXHRs);for(var e=0;e<this.fetchData.activeXHRs.length;e++){var t=this.fetchData.activeXHRs[e];t&&4!==t.readyState&&!t.responseText&&(r.m("Aborting xhr at position "+e,t),t.abort())}this.fetchData.activeXHRs=[]},updateMessagesByEventType:function(e,t,n){try{var i=window&&window.performance&&window.performance.now&&"function"==typeof window.performance.now?r.v():void 0,a={message:t};null!=i&&(a.timeSincePageLoad=i),"error"==n?(this.errorMessagesByEventType[e]=this.errorMessagesByEventType[e]||[],this.errorMessagesByEventType[e].push(a)):(this.warningMessagesByEventType[e]=this.warningMessagesByEventType[e]||[],this.warningMessagesByEventType[e].push(a))}catch(i){r.k("error when updating messages of severity "+n+" by event type for eventType = "+e+", message = "+t,i)}},updateErrorMessagesByEventType:function(e,t){this.updateMessagesByEventType(e,t,"error")},updateWarningMessagesByEventType:function(e,t){this.updateMessagesByEventType(e,t,"warning")},runDiagnostics:function(e){if(r.e()){var t=this;return n.e(3).then(n.bind(null,34)).then((function(n){return n.runDiagnostics(t,e)})).catch(r.C)}}};t.a=o},function(e,t,n){"use strict";var r=n(0),i=n(8),a=n(11),o=n(1),s=n(9),c=n(4),l=n(6),u=n(2),d=n(5),f=n(14),m=n(13),g=n(7);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=window,_=document;function v(e,t){if(r.a.uid?"donottrack"==r.a.uid?(o.k('The userId (uid), as read in from the _ig cookie, is set to donottrack, which means LiftIgniter is not personalizing recommendations to your browsing history; recommendations will be based only on the context directly available from the current impression. Run $p("optBack") to opt back in to being tracked by LiftIgniter'),o.R("widget_request_error","user opted out of first-party tracking")):"nocookieaccess"==r.a.uid&&(o.k("We were unable to access browser cookies, so are unable to personalize recommendations to your browsing history; recommendations will be based only on the context directly available from the current impression. Check your browser's cookie access settings"),o.R("widget_request_error","user does not allow browser cookie access")):(o.k('userId (uid) is not defined. Request for recommendations will not yield personalized recommendations. This could be because you are using addEarlyExtension() instead of addExtension(), or running $p("fetch") before $p("init")'),o.R("widget_request_error","missing userId")),!r.a.enableSendFromHeadless&&-1!==window.navigator.userAgent.indexOf("LiftIgniterHeadlessChrome"))return o.k("You cannot fetch from HeadlessChrome"),!1;if(o.d())return!1;var n=o.B("li-view-mode"),i="";if(u.a.fetchCalled&&!r.a.sdk.multiFetch&&"console"!==n)!0===u.a.allowRegister&&o.k("fetch called before. Doing nothing"),i="fetch called before";else if(u.a.fetchData.started&&!u.a.fetchData.finalized){if(r.a.sdk.allowLazyRegister||"lazy"===t){var a=e||{};return a.command="fetch",u.a.registerFetchQueue.push(a),o.k("Fetch currently in progress. This fetch will be processed when the current fetch finishes and any others have been processed."),!1}o.k("Fetch currently in progress. Please register *all* widgets before running fetch, or wait for fetch to complete before making the next fetch request."),i="fetch in progress"}else if(u.a.fetchData.modelQueryLoading){o.k("ModelQuery is being lazy loaded. Fetching of widgets is deferred for until ModelQuery finishes loading."),i="ModelQuery loading";var s=e||{};s.command="fetch",u.a.registerFetchQueue.push(s)}else 0==u.a.fetchData.fetchQueue.length&&(r.a.sdk.notifyForEmptyFetchQueue&&o.k("There is nothing in the queue to fetch, so not fetching. If you intended to register widgets on this page, please call our SDK's register function to register widgets first, before calling fetch"),i="nothing in fetch queue");return""==i||(("nothing in fetch queue"!=i||r.a.sdk.notifyForEmptyFetchQueue)&&o.R("widget_request_error","fetch failed: "+i,{fetchIndex:u.a.fetchData.fetchIndex}),!1)}function y(e,t){return e.abortActiveRequests&&!0===o.y(e,"abortActiveRequests","boolean")&&u.a.initializeFetchVariables(),!!function(e,t){var n=o.B("li-view-mode"),i="",a=o.y(e,"widget","string");if(e)if(!1===u.a.allowRegister)o.k("We are not allowed to register widgets for this account through the SDK. This is most likely because widget rendering is being handled through our new dashboard-based Rec Units"),i="register not allowed";else if(u.a.fetchCalled&&!r.a.sdk.multiFetch&&"console"!==n)o.k("fetch has been called already, so we are not registering this widget. Please make sure to register all widgets prior to calling fetch"),i="fetch called before";else if(u.a.fetchData.started&&!u.a.fetchData.finalized){if(r.a.sdk.allowLazyRegister||"lazy"===t)return e.command="register",u.a.registerFetchQueue.push(e),o.m("Fetch currently in progress. Registration of the widget: "+e.widget+" will be delayed until the in-flight fetch and all other queued fetches have been processed."),!1;o.m("Fetch currently in progress. Registration of additional widgets is disabled until the fetch is completed. Please make sure to register all widgets either prior to calling fetch, or after the fetch has completed."),i="fetch in progress"}else if(o.r(u.a.fetchData.fetchQueue,(function(e){return e.widget===a})))o.k('A widget named "'.concat(a,'" has already been registered. Registration of widgets with duplicate names in the same fetch cycle is not allowed.')),i="duplicate widget name";else{o.y(e,"max","number")||(o.k("Could not register widget because the max parameter (the number of recommendations to return) was missing"),i="max not specified"),!a&&r.a.sdk.requireWidgetNameInRegister&&(o.k("Could not register widget because the widget parameter (the name of the widget to register as) was missing"),i="widget not specified"),o.y(e,"callback","function")||(o.k("Could not register widget because the callback was not specified."),i="callback not specified")}else o.k("The object we are trying to register is not valid, so not registering"),i="invalid object";if(u.a.fetchData.modelQueryLoading&&(o.k("ModelQuery is being lazy loaded. Registration of widgets is deferred for until ModelQuery finishes loading."),i="ModelQuery loading",e.command="register",u.a.registerFetchQueue.push(e)),""!=i){a=o.y(e,"widget","string");return o.R("widget_request_error","register failed: "+i,{w:a,fetchIndex:u.a.fetchData.fetchIndex}),e&&e.onRejection&&"function"==typeof e.onRejection&&e.onRejection(i),!1}return!0}(e,t)&&(r.a.serverConfig.modules.ModelQuery?g.a.ModelQuery.register(e):(u.a.fetchData.modelQueryLoading=!0,void Promise.resolve().then(n.bind(null,18)).then((function(t){u.a.fetchData.modelQueryLoading=!1,g.a.ModelQuery=t.default,r.a.serverConfig.modules.ModelQuery={name:"ModelQuery",module:t.default},g.a.ModelQuery.register(e),u.a.processRegisterFetchQueue("ModelQuery finished loading")})).catch(o.C)))}function w(e){e&&(e.name||(o.k("specify the widget name on tracking function. Setting widget name to default-widget by default"),e.name="default-widget"),"function"==typeof r.a.sdk.customTrackFunc&&r.a.sdk.customTrackFunc(e),r.a.serverConfig.modules.Widgets?g.a.Widgets.track(e):Promise.resolve().then(n.bind(null,19)).then((function(t){g.a.Widgets=t.default,g.a.Widgets.track(e)})).catch(o.C))}function b(e){var t=r.a.userHash||o.t();if(r.a.userHash||(r.a.userHash=t),!e||"function"!=typeof e){if(e){var n=o.y(e,"callback","function");return n?n(t):t}return t}e(t)}function k(e,t){var n=t||{},r=_.querySelectorAll(e);return Array.prototype.slice.call(r,n.st,n.e)}function E(){try{if(-1!=h.location.search.indexOf("igniter_abhash")){var e=parseInt(i.a.getParam("igniter_abhash"));if(!isNaN(e)&&e<100&&e>=0)return e}}catch(e){}return b()%100}t.a={getWidgetNames:function(e){var t=o.w(a.a.getWidgetData().widgets);if(e&&"function"==typeof e)return e(t);if(e){var n=o.y(e,"callback","function");return n?n(t):t}return t},register:y,fetch:function(e,t){return e&&e.abortActiveRequests&&!0===o.y(e,"abortActiveRequests","boolean")&&(u.a.abortActiveXHRs(),u.a.initializeFetchVariables()),v(e,t)?r.a.serverConfig.modules.ModelQuery?g.a.ModelQuery.fetch(e):(u.a.fetchData.modelQueryLoading=!0,void Promise.resolve().then(n.bind(null,18)).then((function(t){u.a.fetchData.modelQueryLoading=!1,g.a.ModelQuery=t.default,r.a.serverConfig.modules.ModelQuery={name:"ModelQuery",module:t.default},g.a.ModelQuery.fetch(e),u.a.processRegisterFetchQueue("ModelQuery finished loading")})).catch(o.C)):(e&&e.onRejection&&"function"==typeof e.onRejection?e.onRejection():e&&e.callback&&"function"==typeof e.callback&&e.callback("rejected"),!1)},resetPageview:function(e){r.a.refresh(),e&&e.config&&r.a.init(e.config),u.a.refresh(),d.a.initializeCookies(),f.a.clearTimers(),f.a.initializeTimers(),c.a.send("pageview")},track:w,userHash:b,userId:function(e){if(e){var t=o.y(e,"callback","function");return t?t(r.a.uid):r.a.uid}return r.a.uid},render:function(e,t,n,r){o.n("Called render function (template, json, callback, tags)",e,t,n,r);var i=r||["{{","}}"];g.a.Mustache.parse(e,i);var a=g.a.Mustache.render(e,t);return"function"==typeof n?n(a):a},setRequestFields:function(e){"[object Array]"===Object.prototype.toString.call(e)?r.a.sdk.requestFields=e:o.k("Error setting request fields: input is not an array.")},setArrayRequestFields:function(e){"[object Array]"===Object.prototype.toString.call(e)?r.a.sdk.arrayRequestFields=e:o.k("Error setting array request fields: input is not an array.")},setMandatoryRequestFields:function(e){"[object Array]"===Object.prototype.toString.call(e)?r.a.sdk.mandatoryRequestFields=e:o.k("Error setting mandatory request fields: input is not an array.")},setMandatoryArrayRequestFields:function(e){"[object Array]"===Object.prototype.toString.call(e)?r.a.sdk.mandatoryArrayRequestFields=e:o.k("Error setting mandatory array request fields: input is not an array.")},setRequestFieldsAON:function(e){"boolean"==typeof e?r.a.sdk.requestFieldsAON=e:o.k("Error setting request fields all or nothing: input is not a boolean.")},setGetQueryInfo:function(e){"boolean"==typeof e?r.a.sdk.getQueryInfo=e:o.k("Error changing setting on getting query info: input is not a boolean.")},setNoTag:function(e){"boolean"==typeof e?r.a.noTag=e:o.k("Error setting noTag: input is not a boolean.")},isActivated:function(){return r.a.sdk.activated},addRecsHelper:function(e,t,n,r,i,a,o,c){a=a||{},y({max:e,widget:n,callback:function(e){var i=e.items;var l=o||function(){var e=a.fullRender?a.topLevelCss:t;return _.querySelectorAll(e).length>0};s.a.doWhenReady(l,(function(){a.preproc&&(i=h[a.preproc](i,n)),function(e,t,n,r,i,a){var o,s=i||{};if(s.fullRender){_.querySelector(s.topLevelCss).innerHTML=g.a.Mustache.render(r,{items:n}),o=k(e,s.replaceRange)}else{o=k(e,s.replaceRange);for(var c=Math.min(o.length,n.length),l=0;l<c;++l)if(s.outer){var u=_.createElement("div");u.innerHTML=g.a.Mustache.render(r,n[l]),o[l].parentNode.replaceChild(u.firstChild,o[l])}else"{}"!==JSON.stringify(n[l])&&(o[l].innerHTML=g.a.Mustache.render(r,n[l]));s.outer&&(o=k(e,s.replaceRange))}w({opts:a,elements:o,name:t,source:"LI",params:{tagPrefix:s.tagPrefix,noTag:s.noTag}}),s["on-load"]&&eval.call(h,s["on-load"])}(t,n,i,r,a,c),a.postproc&&(i=h[a.postproc](i))}))},opts:i||{}})},baseTrack:function(e,t,n,r){var i=n||{},a=r||function(){var t=i.fullRender?i.topLevelCss:e;return _.querySelectorAll(t).length>0};s.a.doWhenReady(a,(function(){w({elements:k(e,i.replaceRange),name:t,source:"base",params:{tagPrefix:i.tagPrefix,noTag:i.noTag}})}))},abSlice:E,abTestSlice:function(e){if(e){var t=o.y(e,"callback","function");if(t)return t(E())}},sendItem:function(e){if(r.a.inventory.collect)o.k("Default scraping is turned on, so sendItem didn't run. Turn off automatic scraping to use sendItem!");else if(e.noIndex&&"true"===e.noIndex)o.k("noIndex is set to true, so skipping the execution of sendItem!");else try{var t=e||{},n=r.a.inventory.mandatoryFeatures,a=m.a.toQueryString(i.a.basicParam(null)),s=r.a.inventory.inventoryServer+"/"+r.a.inventory.inventoryApiVersion+"/__inventory.gif?"+a;for(var l in t)if(t.hasOwnProperty(l)){var u=p(t[l]);if("string"===u||"number"===u)t[l]=t[l];else if(void 0===t[l])o.k("The field with key "+l+" is undefined. Removing the field"),delete t[l];else if(!(t[l].length>=0))throw"LI only accepts String, Number, or array of Strings for object values."}for(var d=0;d<n.length;d++)if(!t[n[d]])throw"You are missing the following feature for your metadata: "+n[d];void 0!==t&&Object.keys(t).length>1&&(s+="&item="+encodeURIComponent(JSON.stringify(t)),s+=void 0===r.a.inventory.version?"":"&ver="+r.a.inventory.version,c.a.fetchOrPixel(s))}catch(t){o.k("sendItem aborted!",t),o.R("scraping_fail",t,{fullErrorDetails:"JSON = "+o.Q(e)})}},setHist:function(e){r.a.sdk.manualHist?e instanceof Array?r.a.sdk.manualHist=e:o.k("Given argument is not an array."):o.k("Turn off the automatic history tracking")},setContext:function(e){r.a.customContext=e},optOut:function(e){!1===e&&(r.a.uid="donottrack",r.a.userHash=o.t(),d.a.createCookie(r.a.permKey,"donottrack",7300)),c.a.send("opt_out",{})},optBack:function(){d.a.setUserId(o.s()),c.a.send("opt_back",{optback:"1"})},trackThrice:function(e){w(e),window.setTimeout((function(){return w(e)}),200),window.setTimeout((function(){return w(e)}),400)},setViewMode:function(e,t){var n=["preview"];if(null===e)return l.a.removeItem("_igViewMode");if(-1!==n.indexOf(e)){var r=t||3600;l.a.setItem("_igViewMode",e,r)}else o.k("The argument passed to setViewMode: "+e+" did not match one of the currently accepted viewModes. Accepted view modes are:",n)},updateConfig:function(e){"object"!==p(e)?o.k("The argument passed to updateConfig: "+e+" was not an object"):r.a.init(e)},passesInitialFetchChecks:v}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _Config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_QueryString__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_Cookies__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_Storages__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_Utility__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),_State__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),_Ajax__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),_Modules__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7);function getUrl(e,t,n){t=t||{};_Cookies__WEBPACK_IMPORTED_MODULE_2__.a.getUserConsent((function(r){var i;if(i="li_act_server"in t?t.li_act_server:_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.activityServer,"v3"==_Config__WEBPACK_IMPORTED_MODULE_0__.a.sdk.queryApiVersion){var a=_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx&&_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx.jsk||t&&t.jsk||_Config__WEBPACK_IMPORTED_MODULE_0__.a.jsKey,o=_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx&&_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx.uid||t&&t.uid||_Config__WEBPACK_IMPORTED_MODULE_0__.a.uid;i+="/v3/"+a,r&&_Utility__WEBPACK_IMPORTED_MODULE_4__.K()&&_Utility__WEBPACK_IMPORTED_MODULE_4__.L()&&(i+="/"+encodeURIComponent(o))}makeActivityQueryString(e,t,(function(e){n(i+"/__activity.gif?"+e)}))}))}function makeActivityQueryString(e,t,n){var r="e="+encodeURIComponent(e);if("widget_click"==e){var i=t,a=i.clickUrl,o=i.w,s=i.source;_Config__WEBPACK_IMPORTED_MODULE_0__.a.clickHist.onLocalStorage&&_Storages__WEBPACK_IMPORTED_MODULE_3__.a.appendToClickHist(a,o,s),_Config__WEBPACK_IMPORTED_MODULE_0__.a.clickHist.onCookie&&_Cookies__WEBPACK_IMPORTED_MODULE_2__.a.appendToClickHist(a,o,s)}if(maybeClearClickHistory(),_Config__WEBPACK_IMPORTED_MODULE_0__.a.shown.vizSendCap&&("widget_shown"==e||"widget_visible"==e||"widget_click"==e)&&Array.isArray(t.vi)&&(t.vi=t.vi.slice(0,_Config__WEBPACK_IMPORTED_MODULE_0__.a.shown.vizSendCap)),"conversion"==e&&!t.source){var c=_Utility__WEBPACK_IMPORTED_MODULE_4__.B("li_source"),l=_Utility__WEBPACK_IMPORTED_MODULE_4__.B("li_medium");c&&(t.source=c),l&&(t.w=l)}_QueryString__WEBPACK_IMPORTED_MODULE_1__.a.forCurrentExample(void 0,{},(function(e){for(var i in r+="&"+_Ajax__WEBPACK_IMPORTED_MODULE_6__.a.toQueryString(e),t){var a=t[i];t.hasOwnProperty(i)&&("[object Array]"===Object.prototype.toString.call(a)?r+="&"+i+"="+encodeURIComponent(JSON.stringify(a)):r+="&"+i+"="+encodeURIComponent(a))}for(var o in _Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx)_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&("[object Array]"===Object.prototype.toString.call(_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx[o])?r+="&"+o+"="+encodeURIComponent(JSON.stringify(_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx[o])):r+="&"+o+"="+encodeURIComponent(_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx[o]));n(r+="&sdk=bc-pixel")}))}function storeLatestVisibleItems(e){_Storages__WEBPACK_IMPORTED_MODULE_3__.a.setItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.latestVizKey,JSON.stringify(e))}function getLatestVisibleItems(){return _Storages__WEBPACK_IMPORTED_MODULE_3__.a.getItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.latestVizKey)}function checkIfBadActor(){return null!==_Config__WEBPACK_IMPORTED_MODULE_0__.a.isBadActor||(window&&window.location&&window.location.origin&&""!=window.location.origin&&_Utility__WEBPACK_IMPORTED_MODULE_4__.E(window.location.origin)?_Config__WEBPACK_IMPORTED_MODULE_0__.a.isBadActor=!0:_Config__WEBPACK_IMPORTED_MODULE_0__.a.isBadActor=!1),_Config__WEBPACK_IMPORTED_MODULE_0__.a.isBadActor}function checkForUserId(e){_Config__WEBPACK_IMPORTED_MODULE_0__.a.uid||(_Utility__WEBPACK_IMPORTED_MODULE_4__.k("uid is not defined for event "+e+"; Pixel.send() may not have all the info."),_State__WEBPACK_IMPORTED_MODULE_5__.a.updateWarningMessagesByEventType("activity_send_warning",'LI: uid is not defined. Pixel.send() may not have all the info. This could be because you are using addEarlyExtension() instead of addExtension(), or running $p("send") (or some other $p command) before $p("init")'))}function checkForLiftIgniterHeadless(){return null!==_Config__WEBPACK_IMPORTED_MODULE_0__.a.igHeadless||(_Config__WEBPACK_IMPORTED_MODULE_0__.a.enableSendFromHeadless||-1===window.navigator.userAgent.indexOf("LiftIgniterHeadlessChrome")?_Config__WEBPACK_IMPORTED_MODULE_0__.a.igHeadless=!1:(_Utility__WEBPACK_IMPORTED_MODULE_4__.k("You cannot fetch from HeadlessChrome"),_Config__WEBPACK_IMPORTED_MODULE_0__.a.igHeadless=!0)),_Config__WEBPACK_IMPORTED_MODULE_0__.a.igHeadless}function checkIfOutOfSubsample(){return null!==_Config__WEBPACK_IMPORTED_MODULE_0__.a.outOfSubsample||(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.activitySamplingPercent<100&&(!_Config__WEBPACK_IMPORTED_MODULE_0__.a.uid||_Utility__WEBPACK_IMPORTED_MODULE_4__.q(_Config__WEBPACK_IMPORTED_MODULE_0__.a.uid)%100>_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.activitySamplingPercent)?_Config__WEBPACK_IMPORTED_MODULE_0__.a.outOfSubsample=!0:_Config__WEBPACK_IMPORTED_MODULE_0__.a.outOfSubsample=!1),_Config__WEBPACK_IMPORTED_MODULE_0__.a.outOfSubsample}function checkIfDuplicateSafe(e,t,n,r,i){try{return checkIfDuplicate(e,t,n)}catch(e){return _Utility__WEBPACK_IMPORTED_MODULE_4__.U("Error checking if event is duplicate",e,r,i),!1}}function checkIfDuplicate(e,t,n){var r=void 0,i=t||_Config__WEBPACK_IMPORTED_MODULE_0__.a.currentUrl,a=_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx&&_Config__WEBPACK_IMPORTED_MODULE_0__.a.globalCtx.jsk||n,o=e;return void 0!==a&&(o=e+" for jsk "+a),i&&_State__WEBPACK_IMPORTED_MODULE_5__.a.urlListByEventType&&_State__WEBPACK_IMPORTED_MODULE_5__.a.urlListByEventType[o]&&_State__WEBPACK_IMPORTED_MODULE_5__.a.urlListByEventType[o].length>0?(r=_State__WEBPACK_IMPORTED_MODULE_5__.a.urlListByEventType[o][_State__WEBPACK_IMPORTED_MODULE_5__.a.urlListByEventType[o].length-1],_State__WEBPACK_IMPORTED_MODULE_5__.a.urlListByEventType[o].push(i)):i&&_State__WEBPACK_IMPORTED_MODULE_5__.a.urlListByEventType&&(_State__WEBPACK_IMPORTED_MODULE_5__.a.urlListByEventType[o]=[i]),i&&i==r&&-1!=_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.defaultApiEvents.indexOf(e)?(_Utility__WEBPACK_IMPORTED_MODULE_4__.k("For the event "+o+", we are trying to send it twice in a row with the same url: "+r+", so we are blocking the second copy of the event from being sent. Time since page load in milliseconds for events by type: ",_State__WEBPACK_IMPORTED_MODULE_5__.a.tsplsByEventType),_State__WEBPACK_IMPORTED_MODULE_5__.a.duplicatesDetected.push(o),!0):!!(-1!=_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.defaultApiEvents.indexOf(e)&&_State__WEBPACK_IMPORTED_MODULE_5__.a&&_State__WEBPACK_IMPORTED_MODULE_5__.a.tsplsByEventType[o]&&window&&window.performance&&window.performance.now&&"function"==typeof window.performance.now&&!_Config__WEBPACK_IMPORTED_MODULE_0__.a.allowRapidToggling&&_Utility__WEBPACK_IMPORTED_MODULE_4__.v()-_State__WEBPACK_IMPORTED_MODULE_5__.a.tsplsByEventType[o][_State__WEBPACK_IMPORTED_MODULE_5__.a.tsplsByEventType[o].length-1]<2e3)&&(_Utility__WEBPACK_IMPORTED_MODULE_4__.k("The event "+o+" that we were asked to send on the url "+_Config__WEBPACK_IMPORTED_MODULE_0__.a.currentUrl+" at "+_Utility__WEBPACK_IMPORTED_MODULE_4__.v()+" milliseconds after page start looks like a duplicate, because we sent a similar event on the url "+r+" less than 2 seconds ago. If you are rapidly toggling between parts of a single-page app, this may not be a problem. Time since page load in milliseconds for all events by type: ",_State__WEBPACK_IMPORTED_MODULE_5__.a.tsplsByEventType),_State__WEBPACK_IMPORTED_MODULE_5__.a.duplicatesDetected.push(o),!0)}function checkIfBlockedByRegex(e,t){var n=t||_Config__WEBPACK_IMPORTED_MODULE_0__.a.currentUrl;if(n&&_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.defaultApiEvents&&-1!=_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.defaultApiEvents.indexOf(e)){if(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.itemRegex&&null===n.match(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.itemRegex))return _State__WEBPACK_IMPORTED_MODULE_5__.a.updateWarningMessagesByEventType("activity_send_warning","Blocked by item regex, effectiveCurrentUrl = "+n+", itemRegex = "+_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.itemRegex),!0;if(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.excludeRegex&&null!==n.match(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.excludeRegex))return _State__WEBPACK_IMPORTED_MODULE_5__.a.updateWarningMessagesByEventType("activity_send_warning","Blocked by exclude regex, effectiveCurrentUrl = "+n+", excludeRegex = "+_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.excludeRegex),!0}return!1}function checkIfActivityBlocked(e){return _Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.blockedApiEvents.indexOf(e)>=0}function sendCommon(evt,ctx,method){if(ctx=ctx||{},_Utility__WEBPACK_IMPORTED_MODULE_4__.d(!0))return!1;if(checkIfBadActor())return!1;if(checkForUserId(evt),checkForLiftIgniterHeadless())return!1;if(checkIfDuplicateSafe(evt,ctx.cu,ctx.jsk,ctx.w,ctx.source))return!1;if(checkIfOutOfSubsample())return!1;if(checkIfBlockedByRegex(evt,ctx.cu))return!1;if(checkIfActivityBlocked(evt))return!1;if(!("conversion"!=evt||ctx.source&&ctx.w)){var source=_Utility__WEBPACK_IMPORTED_MODULE_4__.B("li_source"),medium=_Utility__WEBPACK_IMPORTED_MODULE_4__.B("li_medium");source&&(ctx.source=source),medium&&(ctx.w=medium)}_Config__WEBPACK_IMPORTED_MODULE_0__.a.googleAnalytics.trackerName&&_Modules__WEBPACK_IMPORTED_MODULE_7__.a.GoogleAnalytics.sendEvents(evt,ctx);var sendResult=!1;if(sendResult="robust"==method?sendRobustActual(evt,ctx):sendOnceActual(evt,ctx),_Config__WEBPACK_IMPORTED_MODULE_0__.a.eventTriggers[evt]){_Utility__WEBPACK_IMPORTED_MODULE_4__.g("Evaluating custom event trigger for event "+evt+", triggered actions: "+_Config__WEBPACK_IMPORTED_MODULE_0__.a.eventTriggers[evt]);try{eval(_Config__WEBPACK_IMPORTED_MODULE_0__.a.eventTriggers[evt])}catch(e){_Utility__WEBPACK_IMPORTED_MODULE_4__.g("Error evaluating custom event trigger for event "+evt+", triggered actions: "+_Config__WEBPACK_IMPORTED_MODULE_0__.a.eventTriggers[evt],e)}}return sendResult}function send(e,t){return sendCommon(e,t,"widget_click"==e?"robust":"once")}function sendOnce(e,t){return sendCommon(e,t,"once")}function sendRobust(e,t){return sendCommon(e,t,"robust")}function sendOnceActual(e,t){try{return updateInternalEventCounts(e),getUrl(e,t,(function(e){fetchOrPixel(e)})),!0}catch(t){return _Utility__WEBPACK_IMPORTED_MODULE_4__.k("Unexpected error when trying to send event "+e,t),_State__WEBPACK_IMPORTED_MODULE_5__.a.updateErrorMessagesByEventType("activity_send_error","LI: error when generating activity to send, activity of type: "+e+", stack trace: "+(t.stack||"")),!1}}function getLastClick(){return _Config__WEBPACK_IMPORTED_MODULE_0__.a.robustUseStorage?_Storages__WEBPACK_IMPORTED_MODULE_3__.a.getItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.lastClick):_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustUseCookie?_Cookies__WEBPACK_IMPORTED_MODULE_2__.a.getItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.lastClick):null}function updateInternalEventCounts(e){try{_State__WEBPACK_IMPORTED_MODULE_5__.a&&_State__WEBPACK_IMPORTED_MODULE_5__.a.eventCounts&&(_State__WEBPACK_IMPORTED_MODULE_5__.a.eventCounts[e]?_State__WEBPACK_IMPORTED_MODULE_5__.a.eventCounts[e]=_State__WEBPACK_IMPORTED_MODULE_5__.a.eventCounts[e]+1:_State__WEBPACK_IMPORTED_MODULE_5__.a.eventCounts[e]=1),_State__WEBPACK_IMPORTED_MODULE_5__.a&&_State__WEBPACK_IMPORTED_MODULE_5__.a.tsplsByEventType&&window&&window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(_State__WEBPACK_IMPORTED_MODULE_5__.a.tsplsByEventType[e]=_State__WEBPACK_IMPORTED_MODULE_5__.a.tsplsByEventType[e]||[],_State__WEBPACK_IMPORTED_MODULE_5__.a.tsplsByEventType[e].push(_Utility__WEBPACK_IMPORTED_MODULE_4__.v()))}catch(t){_Utility__WEBPACK_IMPORTED_MODULE_4__.k("Error updating internal event counts for event: "+e,t)}}function sendRobustActual(e,t){function n(e,t,n,r){getUrl(t,n=_Utility__WEBPACK_IMPORTED_MODULE_4__.I(n,{method:"send_robust",buffer:e.name}),(function(t){e.setItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.lastClick,t);for(var n=0;n<e.maxMsgSlot&&e.getItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.robustMsgSlot+n);n++);if(n<e.maxMsgSlot&&e.setItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.robustMsgSlot+n,t,120),t==e.getItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.robustMsgSlot+n))return sendMsgInBuffer(e,n),void r(!0);r(!1)}))}return updateInternalEventCounts(e),_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.useRobustMsgSlot?(_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustUseStorage&&n(_Storages__WEBPACK_IMPORTED_MODULE_3__.a,e,t,(function(r){!r&&_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustUseCookie&&n(_Cookies__WEBPACK_IMPORTED_MODULE_2__.a,e,t,(function(){}))})),!1):(sendOnceActual(e,t),!0)}function sendRobustPostRequest(e,t){function n(e,t,n){for(var r=JSON.stringify({url:t,payload:n}),i=0;i<e.maxPostMsgSlot&&e.getItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustPostMsgSlot+i);i++);return i<e.maxPostMsgSlot&&e.setItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustPostMsgSlot+i,r,120),r==e.getItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustPostMsgSlot+i)&&(sendPostMsgInBuffer(e,i),!0)}return!(!_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustUseStorage||!n(_Storages__WEBPACK_IMPORTED_MODULE_3__.a,e,t))||!(!_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustUseCookie||!n(_Cookies__WEBPACK_IMPORTED_MODULE_2__.a,e,t))}function sendMsgInBuffer(e,t){if(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.useRobustMsgSlot){var n=e.getItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.robustMsgSlot+t);if(n){_Utility__WEBPACK_IMPORTED_MODULE_4__.f("sendMsgInBuffer found message in "+e.name+". Index "+t);fetchOrPixel(n,(function(){e.removeItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.robustMsgSlot+t)}))}}}function sendPostMsgInBuffer(e,t){var n=e.getItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustPostMsgSlot+t);if(n){var r=_Utility__WEBPACK_IMPORTED_MODULE_4__.G(n,"sendPostMsgInBuffer.item");if(r.url&&r.payload){_Utility__WEBPACK_IMPORTED_MODULE_4__.f("sendPostMsgInBuffer found message in "+e.name+". Index "+t);_Ajax__WEBPACK_IMPORTED_MODULE_6__.a.thirdPartyFetchSafely(r.url,5e4,(function(){e.removeItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.robustPostMsgSlot+t)}),(function(){return!0}),!1,!1,_Utility__WEBPACK_IMPORTED_MODULE_4__.G(r.payload,"sendPostMsgInBuffer.parsedItem.payload"))}}}function checkBuffer(){for(var e=0;e<_Cookies__WEBPACK_IMPORTED_MODULE_2__.a.maxMsgSlot;e++)_Utility__WEBPACK_IMPORTED_MODULE_4__.f("checkBuffer in cookies: check cookie "+e),sendMsgInBuffer(_Cookies__WEBPACK_IMPORTED_MODULE_2__.a,e);for(e=0;e<_Storages__WEBPACK_IMPORTED_MODULE_3__.a.maxMsgSlot;e++)_Utility__WEBPACK_IMPORTED_MODULE_4__.f("checkBuffer in storages: check storage "+e),sendMsgInBuffer(_Storages__WEBPACK_IMPORTED_MODULE_3__.a,e);for(e=0;e<_Cookies__WEBPACK_IMPORTED_MODULE_2__.a.maxPostMsgSlot;e++)_Utility__WEBPACK_IMPORTED_MODULE_4__.f("checkBuffer for post messages in cookies: check cookie "+e),sendPostMsgInBuffer(_Cookies__WEBPACK_IMPORTED_MODULE_2__.a,e);for(e=0;e<_Storages__WEBPACK_IMPORTED_MODULE_3__.a.maxPostMsgSlot;e++)_Utility__WEBPACK_IMPORTED_MODULE_4__.f("checkBuffer for post messages in storages: check storage "+e),sendPostMsgInBuffer(_Storages__WEBPACK_IMPORTED_MODULE_3__.a,e)}function keepCheckingBuffer(){checkBuffer(),window.setInterval((function(){checkBuffer()}),1e4)}function maybeClearClickHistory(){_Config__WEBPACK_IMPORTED_MODULE_0__.a.clickHist.onLocalStorage||_Storages__WEBPACK_IMPORTED_MODULE_3__.a.removeItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.clickHist.clickHistLKey),_Config__WEBPACK_IMPORTED_MODULE_0__.a.clickHist.onCookie||_Cookies__WEBPACK_IMPORTED_MODULE_2__.a.removeItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.clickHist.clickHistCKey),_Storages__WEBPACK_IMPORTED_MODULE_3__.a.removeItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.lastClick),_Cookies__WEBPACK_IMPORTED_MODULE_2__.a.removeItem(_Config__WEBPACK_IMPORTED_MODULE_0__.a.lastClick)}function fetchOrPixel(e,t){if(t=t||function(){},_Config__WEBPACK_IMPORTED_MODULE_0__.a.activity.useFetch)window.fetch(e).then(t);else{var n=new Image;n.onload=t,n.src=e}}__webpack_exports__.a={send:send,getUrl:getUrl,sendOnce:sendOnce,sendRobust:sendRobust,sendRobustPostRequest:sendRobustPostRequest,checkBuffer:checkBuffer,storeLatestVisibleItems:storeLatestVisibleItems,getLatestVisibleItems:getLatestVisibleItems,getLastClick:getLastClick,updateInternalEventCounts:updateInternalEventCounts,keepCheckingBuffer:keepCheckingBuffer,fetchOrPixel:fetchOrPixel}},function(e,t,n){"use strict";var r=n(13),i=n(0),a=n(2),o=n(1),s=n(8);function c(){if(navigator.cookieEnabled)return!0;try{document.cookie="cookietest=1";var e=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return o.k("Unexpected errors manipulating cookies, hence we are assuming no cookie access",e),!1}}function l(e,t,n,r){try{m((function(a){if(!a)throw new Error("user did not consent to cookies");r=r||864e5;var o="";if(n){var s=new Date;s.setTime(s.getTime()+n*r),o=";expires="+s.toUTCString()}var c=i.a.cookieDomain?";domain="+i.a.cookieDomain:"";d(e),document.cookie=e+"="+t+o+c+";path=/"}))}catch(n){o.k("[WARN] Cookie creation failed for name "+e+", value "+t,n)}}function u(e){try{for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}catch(t){return o.k("[WARN] Cookie read failed for "+e,t),null}}function d(e){try{var t=i.a.cookieDomain?";domain="+i.a.cookieDomain:"";document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"+t+";path=/",document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT;path=/"}catch(t){o.k("[WARN] Cookie deletion failed for "+e,t)}}function f(e,t,n){function c(){if(a.a.setUserIdBacklog){var e=a.a.setUserIdBacklog;a.a.setUserIdBacklog=null,e.forEach((function(e){o.g("processing setUserIdBacklog",e),t?t.processCall(e):o.g("Cookies.setUserId(): not running Client.processCall because Client is undefined.")}))}}function u(t){o.g("Running doSetUserId",i.a.uid,e,t),i.a.uid=e,i.a.userHash=o.t(),l(i.a.permKey,i.a.uid,t)}function d(e){u(e),c()}function f(t,r,i){o.k("[WARN] Error calling the transfer endpoint",r,i),a.a.updateWarningMessagesByEventType("setUserId_warning","[WARN] attempt to call transfer endpoint failed on id "+e+" and method "+n),u(t),c()}if("string"==typeof e)if("donottrack"===e){u(7300)}else if(-1===o.b.indexOf(e)){if(i.a.uid===e||void 0===t||"replace"!==n&&"replaceIfEmpty"!==n||null===i.a.uid||-1!==o.b.indexOf(i.a.uid)||i.a.firstTime&&Object.keys(a.a.eventCounts).length<1)u(365);else{o.g("Resetting State.setUserIdBacklog",i.a.uid,e),a.a.setUserIdBacklog=[];var m="".concat(i.a.sdk.queryServer,"/v3/").concat(i.a.jsKey,"/").concat(encodeURIComponent(i.a.uid),"/transfer");g=function(e){r.a.thirdPartyFetch(m,i.a.transfer.timeoutMillis,d.bind(null,365),f.bind(null,365),!1,!1,e,!1)},s.a.forCurrentExample(void 0,{},(function(t){delete t.uid,g(o.I(t,{method:n,oldUserId:i.a.uid,newUserId:e}))}))}}else o.k('[WARN] We did not run setUserId because the id we were given, namely "'+e+'", is in our set of bad userIds'),a.a.updateWarningMessagesByEventType("setUserId_warning","LI: attempt to set userId to one of the bad userIds: "+e);else o.k("[WARN] We did not run setUserId because we did not receive a second argument of type string"),a.a.updateWarningMessagesByEventType("setUserId_warning","LI: attempt to set userId without specifying a target of type string");var g}function m(e){if("boolean"==typeof i.a.consentManagement.forceUserConsentValue)return e(i.a.consentManagement.forceUserConsentValue),void(i.a.consentManagement.forceUserConsentValue=null);i.a.consentManagement.checkTcfApiFunction(e)}var g={setUserId:f,setSessionId:function(e){"string"==typeof e&&""!==e&&(i.a.sid=e,l(i.a.sessKey,i.a.sid))},createCookie:l,readCookie:u,deleteCookie:d,initializeCookies:function(){m((function(e){var t=e&&c();o.g("initializeCookies initial Config.uid:",i.a.uid),t&&(o.g("_ig cookie value:",u(i.a.permKey)),i.a.uid=i.a.uid||u(i.a.permKey),i.a.userHash=o.t(),o.g("initializeCookies after reading cookie Config.uid:",i.a.uid)),i.a.uid?f(i.a.uid):(i.a.firstTime=!0,t?f(o.s()):(i.a.uid="nocookieaccess",i.a.userHash=o.t())),t&&(i.a.sid=i.a.sid||u(i.a.sessKey)),i.a.sid||(t?(i.a.sid=o.s(),l(i.a.sessKey,i.a.sid)):i.a.sid="nocookieaccess"),i.a.pvid=o.s(),i.a.customBrowsingHistory&&i.a.sdk.historyTracking&&i.a.customBrowsingHistory(),t&&("donottrack"==i.a.uid?l(i.a.permKey,i.a.uid,7300):l(i.a.permKey,i.a.uid,365))}))},hasCookiesEnabled:c,getItem:u,setItem:function(e,t,n){l(e,t,n,1e3)},removeItem:d,maxMsgSlot:3,maxPostMsgSlot:3,name:"cookie",appendToClickHist:function(e,t,n){m((function(r){var a=i.a.clickHist.clickHistCKey,o=r?decodeURIComponent(u(a)):"null",s="null"!==o?o.split(","):[],d=i.a.clickHist.cap||10,f=!1,m=i.a.clickHist.urlTrans(e);if(s=s.slice(Math.max(s.length-d,0),s.length),null!=m&&""!==m){for(var g=0;g<s.length;g++)s[g].split("|")[0]===m&&(f=!0);f||(s.length>=d&&s.shift(),s.push(m+"|"+t+"|"+n)),r&&c()&&l(a,encodeURIComponent(s.join(",")),365)}}))},getUserConsent:m};t.a=g},function(e,t,n){"use strict";var r=n(0),i=n(2),a=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=window,c=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}()?s.localStorage:{setItem:function(e,t){},getItem:function(e){return null},removeItem:function(e){}},l=function(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(e){return!1}}()?s.sessionStorage:{setItem:function(e,t){},getItem:function(e){},removeItem:function(e){}},u="expireTimestamp";function d(){try{c.setItem("_igst","8");var e="8"==c.getItem("_igst");return c.removeItem("_igst"),e}catch(e){return!1}}function f(e,t,n){c.setItem(e,t),n&&c.setItem(e+u,String(+new Date+1e3*n))}function m(e){c.removeItem(e),c.removeItem(e+u)}function g(e){var t=+c.getItem(e+u);return!t||t>=+new Date?c.getItem(e)||null:(m(e),null)}function p(){try{var e=r.a.sdk.persistentConfigKey;if(d()){var t=g(e),n=a.G(t,"getPersistentConfig.retrievedItem");return null==n?{}:n}return{}}catch(e){return{}}}function h(){var e={};try{var t=r.a.sdk.persistentQueryOptsKey;if(d()){var n=g(t),i=a.G(n,"getPersistentQueryOpts.retrievedItem");return null==i?e:i}return e}catch(t){return e}}var _={hasStorageEnabled:d,setItem:f,getItem:g,removeItem:m,maxMsgSlot:10,maxPostMsgSlot:10,name:"local_storage",getLongHist:function(){var e=g(r.a.longHistKey)||JSON.stringify([]);if(null!=r.a.longHist.dropRecent&&r.a.longHist.dropRecent>0){var t=a.G(e,"getLongHist.ret").length;t>=r.a.longHist.dropRecent?e=JSON.stringify(a.G(e,"getLongHist.ret").slice(0,t-r.a.longHist.dropRecent)):JSON.stringify([])}return e},appendToClickHist:function(e,t,n){var i=r.a.clickHist.clickHistLKey||"_igClkHis",o=a.G(g(i),"appendToClickHist.getItem(clickKey)")||[],s=r.a.clickHist.cap||10,c=!1,l=r.a.clickHist.urlTrans(e);if(o=o.slice(Math.max(o.length-s,0),o.length),null!=l&&""!==l){for(var u=0;u<o.length;u++)o[u].split("|")[0]===l&&(c=!0);c||(o.length>=s&&o.shift(),o.push(l+"|"+t+"|"+n)),f(i,JSON.stringify(o))}},sessStorage:l,setPersistentConfig:function(e,t){if("object"!=o(e)||!d())return"object"!=o(e)?(a.l("Second argument after setPersistentConfig must be a map"),!1):(a.l("Local storage must be available to set persistent config"),!1);try{var n=r.a.sdk.persistentConfigKey;return i.a.persistentConfig="merge*"==t||"mergeRecursive"==t?a.J(i.a.persistentConfig,e):"merge"==t?a.I(i.a.persistentConfig,e):e,f(n,JSON.stringify(i.a.persistentConfig),2592e3),a.l("Persistent config has been set. Please start a new page load for the settings to fully take effect"),!0}catch(e){return a.l("Could not update persistent config, exception: ",e),!1}},getPersistentConfig:p,setPersistentQueryOpts:function(e,t){if("object"!=o(e)||!d())return"object"!=o(e)?(a.k("Second argument after setPersistentQueryOpts must be a map"),!1):(a.k("Local storage must be available to set persistent query opts"),!1);try{var n=r.a.sdk.persistentQueryOptsKey;return i.a.persistentQueryOpts="merge*"==t||"mergeRecursive"==t?a.J(i.a.persistentQueryOpts,e):"merge"==t?a.I(i.a.persistentQueryOpts,e):e,f(n,JSON.stringify(i.a.persistentQueryOpts),2592e3),a.k("Persistent query opts have been set. Any further model queries made on this page or on future page loads via the SDK will include these opts"),!0}catch(e){return a.k("Could not update persistent query opts, exception: ",e),!1}},getPersistentQueryOpts:h,initializeStoredSettings:function(){i.a.persistentQueryOpts=h(),i.a.persistentConfig=p()}};t.a=_},function(e,t,n){"use strict";var r=n(1),i=n(0);function a(e){Object(r.U)("module not found",e)}function o(e,t){return new Error("Module "+e+" was not loaded. Could not call function "+t)}var s={AutoRender:{createErr:function(e){return o("AutoRender",e)},serveWidgets:function(e){Object(r.g)(this.createErr("serveWidgets"))},resetWidgetsServed:function(){Object(r.g)(this.createErr("resetWidgetsServed"))},isSlotEnabled:function(e,t,n,r){a(this.createErr("isSlotEnabled"))},isValidPage:function(e,t,n){a(this.createErr("isValidPage"))}},AutoEvents:{createErr:function(e){return o("AutoEvents",e)},registerEvent:function(e){a(this.createErr("registerEvent"))},addCustomEvents:function(){Object(r.g)(this.createErr("addCustomEvents"))},widgetRenderedCallback:function(e,t){a(this.createErr("widgetRenderedCallback"))}},Mustache:{createErr:function(e){return o("Mustache",e)},render:function(e,t,n,r){a(this.createErr("render"))},parse:function(e,t){a(this.createErr("parse"))}},ModelQuery:{createErr:function(e){return o("ModelQuery",e)},register:function(e){return a(this.createErr("register")),!1},fetch:function(e){return a(this.createErr("fetch")),!1},userCallback:function(e,t){return a(this.createErr("userCallback")),{}},recommendationCallback:function(e,t){a(this.createErr("recommendationCallback"))},tryCall:function(e,t,n,r){return a(this.createErr("tryCall")),!1},dedupItemsById:function(e,t,n,r,i){return a(this.createErr("dedupItemsById")),{items:[]}},forcedHash:function(){a(this.createErr("forcedHash"))},getRequestFieldParams:function(e,t){return a(this.createErr("getRequestFieldParams")),{}},queryServer:function(e){return a(this.createErr("queryServer")),!1}},Widgets:{createErr:function(e){return o("Widgets",e)},widgets:{},onClick:function(e,t,n,r){a(this.createErr("onClick"))},track:function(e){a(this.createErr("track"))},getTracked:function(){return a(this.createErr("getTracked")),{}},updateViz:function(e,t,n,r,i){return a(this.createErr("updateViz")),null},getItemsMismatchDiagnosis:function(e,t,n){return a(this.createErr("getItemsMismatchDiagnosis")),""},checkIfItemsMismatch:function(e,t,n,r){a(this.createErr("checkIfItemsMismatch"))},getAnchors:function(e,t,n,r){return a(this.createErr("getAnchors")),[]},getViz:function(e,t,n,r,i,o,s,c){return a(this.createErr("getViz")),[]},tagElement:function(e,t,n,r,i,o){a(this.createErr("tagElement"))}},Inventory:{createErr:function(e){return o("Inventory",e)},collect:function(){a(this.createErr("collect"))},loadExportables:function(){a(this.createErr("loadExportables"))},scrapeInventory:function(){return a(this.createErr("scrapeInventory")),{status:"aborted",reason:"Inventory module not loaded"}},collectInventoryWhenReady:function(){a(this.createErr("collectInventoryWhenReady"))},safelyCollectInventory:function(){a(this.createErr("safelyCollectInventory"))},dispatchInventoryReadyEvent:function(){a(this.createErr("dispatchInventoryReadyEvent"))}},GoogleAnalytics:{createErr:function(e){return o("GoogleAnalytics",e)},sendEvents:function(e,t){a(this.createErr("sendEvents"))}},loadAutoRender:function(e,t,a){if(i.a.serverConfig.modules.AutoRender)e(s.AutoRender);else{if(!a)return r.n("Not loading AutoRender chunk because forceLoad was not sent!"),void(t&&t());n.e(2).then(n.bind(null,22)).then((function(t){s.AutoRender=t.default,i.a.serverConfig.modules?i.a.serverConfig.modules.AutoRender={name:"AutoRender",module:t.default}:i.a.serverConfig.modules={AutoRender:{name:"AutoRender",module:t.default}},e(t.default)})).catch(r.C)}},loadAutoEvents:function(e,t,a){if(i.a.serverConfig.modules.AutoEvents)e(s.AutoEvents);else{if(!a)return r.n("Not loading AutoEvents chunk because forceLoad was not sent!"),void(t&&t());n.e(1).then(n.bind(null,23)).then((function(t){s.AutoEvents=t.default,i.a.serverConfig.modules?i.a.serverConfig.modules.AutoEvents={name:"AutoEvents",module:t.default}:i.a.serverConfig.modules={AutoEvents:{name:"AutoEvents",module:t.default}},e(t.default)})).catch(r.C)}},loadInventory:function(e,t,a){if(i.a.serverConfig.modules.Inventory)e(s.Inventory);else{if(!i.a.inventory.collect&&!a)return r.j("Not loading Inventory chunk because Config.inventory.collect == false and forceLoad was not sent!"),void(t&&t());Promise.resolve().then(n.bind(null,20)).then((function(t){s.Inventory=t.default,i.a.serverConfig.modules?i.a.serverConfig.modules.Inventory={name:"Inventory",module:t.default}:i.a.serverConfig.modules={Inventory:{name:"Inventory",module:t.default}},e(t.default)})).catch(r.C)}}};t.a=s},function(e,t,n){"use strict";var r=n(0),i=n(16),a=n(10),o=n(17),s=n(6),c=n(5),l=n(2),u=n(1),d=n(26);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=Object.assign||d.assign;function p(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null==t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function h(e,t){var n=r.a.sdk.useLocationForCurrentUrl?window.location.href:e?r.a.frontPageBoost:r.a.isInIframe?document.referrer:r.a.currentUrl;return n=r.a.activity.urlTransform(n),(t=t||{}).ts=o.a.getCurrentTime(),t.jsk=r.a.jsKey,t.jsv=r.a.version,t.cu=n,t}function _(e,t){try{u.k(e,t),l.a.updateWarningMessagesByEventType("activity_data_attach_error",e+": "+(t.stack||""))}catch(e){u.k("Unexpected error with activity_data_attach_error",e)}}t.a={forCurrentExample:function(e,t,n){if(t=t||{},n=n||function(){},r.a.qOpt.dynScrollInfo)try{t.sppx=i.a.maxVertScrollPos(),t.sppc=i.a.maxVertScrollPct(),t.dh=i.a.getDocHeight(),t.iwid=window.innerWidth,t.ihei=window.innerHeight}catch(e){t.errs=(t.errs?t.errs+"; ":"")+"Error reading scroll information: "+e,_("Error reading scroll information",e)}try{var d;if(r.a.histSettings.origin)d=r.a.activity.canonicalUrlTransform(r.a.histSettings.origin+window.location.pathname);else{var f=r.a.isInIframe?a.a.getCanonicalUrlIframe():a.a.getCanonicalUrl();d=r.a.customContext.id?r.a.customContext.id:r.a.useCanonicalUrl?e?r.a.frontPageBoost:r.a.activity.canonicalUrlTransform(f):null}t.ct=a.a.getCurrentTitle(),t.ccu=d}catch(e){_("Error attaching url and title in activity",e)}try{if(window.performance&&window.performance.now&&"function"==typeof window.performance.now){var m=u.v();t.tspl=m}l.a.startupInfo.beaconLoadStartTime&&(t.blst=l.a.startupInfo.beaconLoadStartTime),l.a.startupInfo.initStartTime&&(t.ist=l.a.startupInfo.initStartTime),l.a.startupInfo.initEndTime&&(t.iet=l.a.startupInfo.initEndTime),l.a.startupInfo.beaconLoadRestartTime&&(t.blrt=l.a.startupInfo.beaconLoadRestartTime),l.a.startupInfo.beaconLoadError&&(t.blet=0|l.a.startupInfo.beaconLoadError.timeStamp),l.a.browserClientTotalTimeTaken&&(t.bcttt=l.a.browserClientTotalTimeTaken)}catch(e){t.errs=(t.errs?t.errs+"; ":"")+"Error determining time since page load: "+e,_("Error determining time since page load",e)}try{var p=r.a.sdk.manualHist?r.a.sdk.manualHist:r.a.getHistList();h(null,t),t.uid=r.a.uid,t.sid=r.a.sid,t.pvid=r.a.pvid,t.hist=r.a.activity.includeBrowsingHistory?p:null}catch(e){t.errs=(t.errs?t.errs+"; ":"")+"Error attaching user, session, or page identifiers: "+e,_("error attaching user, session, or page identifiers to paramsObj",e)}try{t.ua=r.a.userAgent,t.l=r.a.language,t.os=r.a.os,t.cet=r.a.connection.effectiveType,t.crtt=r.a.connection.rtt,t.cdl=r.a.connection.downlink,r.a.qOpt.screenDim&&(t.scd=r.a.colorDepth,t.scrh=r.a.screenHeight,t.scrw=r.a.screenWidth),t.ref=r.a.referrer?r.a.referrer:null}catch(e){t.errs=(t.errs?t.errs+"; ":"")+"Error attaching user environment information: "+e,_("error attaching user environment information to paramsObj",e)}try{r.a.customInfo&&g(t,r.a.customInfo())}catch(e){t.errs=(t.errs?t.errs+"; ":"")+"Error with customInfo assignment: "+e,_("error with customInfo assignment to paramsObj",e)}try{t.tzo=o.a.getTimezoneOffset()}catch(e){t.errs=(t.errs?t.errs+"; ":"")+"Error attaching timezone offset: "+e,_("error attaching timezone offset. All other steps succeeded",e)}try{var v=null;if(r.a.clickHist.send)if(r.a.clickHist.onLocalStorage){var y=s.a.getItem(r.a.clickHist.clickHistLKey);v=null==y?null:u.G(y,"forCurrentExample.clkHistString")}else r.a.clickHist.onCookie&&c.a.getUserConsent((function(e){var i=e&&c.a.readCookie(r.a.clickHist.clickHistCKey);v=i?i.split(","):null,t&&n&&(t.clkHist=v,n(t))}));t.clkHist=v}catch(e){t.errs=(t.errs?t.errs+"; ":"")+"Error working with click history cookie: "+e,_("Error working with click history cookie",e)}r.a.clickHist.send&&!r.a.clickHist.onLocalStorage&&r.a.clickHist.onCookie||n(t)},getParam:p,copyParam:function(e,t){t=t||"&";var n=p(e);return n?t+e+"="+n:""},replaceParams:function(e,t,n){for(var r=f(e.split("#",2),2),i=r[0],a=r[1],o=f(i.split("?",2),2),s=o[0],c=o[1],l=c?c.split("&"):[],u=l.length;u-- >0;){var d=f(l[u].split("=",2),1)[0];try{decodeURIComponent(d.replace(/\+/g," "))in t&&l.splice(u,1)}catch(e){}}for(var m in t){var g=t[m];t.hasOwnProperty(m)&&null!=g&&l.push("".concat(encodeURIComponent(m),"=").concat(encodeURIComponent(g)))}return n?s+(null!=a?"#".concat(a):"")+(l.length>0?"?".concat(l.join("&")):""):s+(l.length>0?"?".concat(l.join("&")):"")+(null!=a?"#".concat(a):"")},basicParam:h,getUrlParameter:function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))},updateUrlParameter:function(e,t,n){var r=e.indexOf("#"),i=-1===r?"":e.substr(r);e=-1===r?e:e.substr(0,r);var a=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return(e=e.match(a)?e.replace(a,"$1"+t+"="+n+"$2"):e+o+t+"="+n)+i}}},function(e,t,n){"use strict";var r=n(1),i=n(2),a=window;function o(){if("boolean"==typeof i.a.eventsEnabled)return i.a.eventsEnabled;try{document.createEvent("Event"),i.a.eventsEnabled=!0}catch(e){r.k("Unexpected error creating event. Assuming event creation not possible.",e),i.a.eventsEnabled=!1}return i.a.eventsEnabled}t.a={addEvent:function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,(function(){return n.call(e,a.event)}))},domReady:function e(t){/in[^t]/.test(document.readyState)?a.setTimeout((function(){e(t)}),100):t()},domComplete:function e(t){/complete/.test(document.readyState)?t():a.setTimeout((function(){e(t)}),100)},doWhenReady:function e(t,n){t()?n():a.setTimeout((function(){e(t,n)}),50)},createEvent:function(e){if(o()){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}return r.k("Not creating event: "+e+" because custom events have been disabled on this page."),null},dispatchEvent:function(e){o()?document.dispatchEvent(e):r.k("Not dispatching event: "+e+" because custom events have been disabled on this page.")}}},function(e,t,n){"use strict";var r,i=n(1),a=n(0),o=n(4),s=n(2);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){t=void 0!==t&&t;var r=[],a=(n=n||window.document).querySelectorAll(e);i.j("For selector "+e+", returnAllMatch "+t+", in getText, we found the following "+a.length+" matching node(s):",a);for(var o=0;o<a.length;o++)i.j("Inserting textContent "+a[o].textContent+" at position "+o+" for selector "+e),r.push(a[o].textContent);return t?r:r[0]}function u(e,t,n,r){n=void 0!==n&&n;var a=[],o=(r=r||window.document).querySelectorAll(e);i.j("For selector "+e+", returnAllMatch "+n+", in getAttribute, we found the following "+o.length+" matching node(s):",o);for(var s=0;s<o.length;s++)i.j("Inserting attribute "+o[s].getAttribute(t)+" at position "+s+" for selector "+e),a.push(o[s].getAttribute(t));return n?a:a[0]}function d(e,t,n){var r=function e(t,n){return 0==n.length?t:e(t[n[0]],n.slice(1))}(n=n||window,e.split("."));return null==r?[]:"var"===t?r.toString():r}function f(e,t){for(var n={},r=(t=t||window.document).querySelectorAll("meta[property^='"+e+":'][content]"),i=0;i<r.length;i++){var a=(r[i].getAttribute("property")||"").slice(e.length+1),o=n[a]||[];o.push(r[i].getAttribute("content")),n[a]=o}return n}function m(e,t){if("substring"==t.name)return e.substring(t.start||0,t.end||e.length);if("trim"==t.name)return e.trim();if("uppercase"===t.name)return e.toUpperCase();if("lowercase"===t.name)return e.toLowerCase();if("camelcase"===t.name)return i.c(e);if("replace"==t.name)return e.replace(new RegExp(t.old,"g"),t.new);if("stringReplace"==t.name)return e.split(t.old).join(t.new);if("pad"==t.name)return(t.left||"")+e+(t.right||"");if("split"==t.name)return e.split(t.separator||",");if("removeEmpty"==t.name){if(""===e)return[]}else{if("shorten"==t.name)return e.length>t.size?e.substring(0,t.size)+t.suffix:e;if("parseJsonArray"==t.name)try{var n=JSON.parse(e);return Array.isArray(n)?n:e}catch(t){return e}else{if("exist"==t.name)return e?"true":"";if("noExist"==t.name)return e?"":"true"}}}function g(e){var t=e.type+": ";return"text"===e.type&&(t+="selector: ".concat(e.selector)),"attribute"!==e.type&&"defined"!==e.type||(t+="selector: ".concat(e.selector,"; attribute: ").concat(e.attribute)),"var"!==e.type&&"varArray"!==e.type||(t+="variable: ".concat(e.variable)),t}function p(e,t,n){var r;t=t||window.document,n=n||window;var a=[],c=void 0!==e.returnAll?e.returnAll:void 0;try{if("text"==e.type)r=l(e.selector,c,t);else if("attribute"==e.type)r=u(e.selector,e.attribute,c,t);else if("url"==e.type)r=n.location.href;else if("var"==e.type)r=[d(e.variable,e.type,n)];else if("varArray"==e.type)r=d(e.variable,e.type,n);else if("defined"==e.type)return(r=u(e.selector,e.attribute,!0,t))&&r.length?"true":"false";if(r&&(e.returnAll||"varArray"===e.type)){i.j("We are in the multi-valued case, so calling transformValues on each entry",r);for(var f=0;f<r.length;f++){var m=r[f];m=h(e,m),a=a.concat(m)}}else r&&!e.returnAll&&(i.j("We are in the single-valued case, so calling transformValues on the first entry",r),a=r=h(e,Array.isArray(r)&&r.length?r[0]:r))}catch(t){a=[];var p="Error scraping feature: ".concat(e.name," ").concat(g(e),". ").concat(t,"\n").concat(t.stack);i.k(p),o.a.send("scraping_fail",{errs:"feature: "+e.name+"; error: "+t,fullErrorDetails:p}),s.a.updateErrorMessagesByEventType("scraping_fail",p)}return JSON.stringify(a)===JSON.stringify([])&&i.j("Omitting feature: ".concat(e.name," because it has a value of empty array")),a}function h(e,t){try{if("function"==typeof e.transform&&(i.j("Applying f.transform on the string",t),t=e.transform(t)),e.transforms)for(var n=0;n<e.transforms.length;n++){var r=e.transforms[n];if(i.j("Going to run transform at position "+n+"; input for this iteration of transform is "+t+"; transform configuration: ",r),Array.isArray(t))if("join"==r.name)t=t.join(r.separator);else if("index"==r.name){var a=r.index;t=!isNaN(a)&&a>=0&&a<t.length?t[a]:[]}else{for(var l=[],u=0;u<t.length;u++)l=l.concat(m(t[u],r));t=l}else t=m(t,r)}return Array.isArray(t)||(t=function(e,t){if(void 0!==t){var n=[],r=t.exec(e);if(t.global)for(;r;)n=n.concat(r.slice(1)),r=t.exec(e);else n=r&&r.slice(1)||[];return n}return[e]}(t,e.regex),void 0!==e.joinWith&&(t=[t.join(e.joinWith)])),t}catch(n){var d='Error in scrape feature "'.concat(e.name,'" ').concat(g(e)," transform function on value of type ").concat(c(t),". ").concat(n,"\n").concat(n.stack);return i.k(d),o.a.send("scraping_fail",{errs:"feature: "+e.name+"; error: "+n,fullErrorDetails:d}),s.a.updateErrorMessagesByEventType("scraping_fail",d),t}}function _(e){var t=(e=e||window.document).getElementsByTagName("title");return t.length>0&&t[0].textContent?t[0].textContent.trim():(i.j("Scrape.getTitleFallback(): Not using title fallback because titleTag.textContext is null."),null)}t.a={getCurrentTitle:function(e){var t=(e=e||window.document).querySelector("meta[property='og:title'][content]");return t?t.getAttribute("content"):_(e)||"-1"},getTitleFallback:_,getCanonicalUrl:function(e,t){return r&&!a.a.inventory.alwaysRefreshCanonicalUrl||(r=a.a.inventory.canonicalUrlTransform(function(){if(e=e||window.document,t=t||window,a.a.inventory.useOpenGraphForCanonicalUrl&&(r=e.querySelector("meta[property='og:url'][content]"))){var n=r.getAttribute("content");if(n)return n}if(a.a.inventory.useLinkRelForCanonicalUrl){var r=e.querySelector("link[rel=canonical][href]");if(r)return function(e,t){var n=(t=t||window.document).createElement("a");return n.href=e,n.protocol+"//"+n.host+n.pathname+n.search+n.hash}(r.getAttribute("href"),e)}var i=t.location.href;return a.a.inventory.stripTagsForCanonicalUrl&&(i=i.split("?")[0]),a.a.inventory.stripHashesForCanonicalUrl&&(i=i.split("#")[0]),i}())),r},getCanonicalUrlIframe:function(){var e;return r||(r=a.a.inventory.canonicalUrlTransform((e=document.referrer,a.a.inventory.stripTagsForCanonicalUrl&&(e=e.split("?")[0]),a.a.inventory.stripHashesForCanonicalUrl&&(e=e.split("#")[0]),e))),r},getText:l,getAttribute:u,scrapeFeature:p,scrapeOpenGraph:function(){var e=f("og");if(null!=e.type){var t=e.type[0].split(".")[0],n=a.a.inventory.defaultType;switch(t){case"article":case"video":case"book":case"music":e=i.I(f(t),e);break;default:e=i.I(f(n),e)}}return e},scrapeJSON:function(e){var t=(e=e||window.document).querySelector("#liftigniter-metadata");if(t){var n=t.textContent;if(a.a.inventory.jsonTransform&&(n=a.a.inventory.jsonTransform(n)),n){try{var r=JSON.parse(n);for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];if(s&&"object"==c(s)&&"object"==c(s[0])||s&&"object"==c(s)&&!Array.isArray(s))delete r[o],i.j("We do not currently accept nested JSON structures for inventory items. '"+o+"' is being ignored when scraping your inventory.");else if("number"!=typeof s){if("object"==c(s)){s=[].concat(s);for(var l=0;l<s.length;l++)s[l]?s[l]=s[l].toString():null===s[l]&&(s[l]="null")}else s=[s.toString()];r[o]=s}}}catch(e){return i.j("LI: Error scraping liftigniter-metadata",e),null}return r}return{}}return{}},transformFeature:m,fetchDynamicParams:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&("object"!==c(e[n])||Array.isArray(e[n])?t[n]=e[n]:t[n]=p(e[n]));return t},scrapeMeta:f,getVariable:d}},function(e,t,n){"use strict";var r=n(0),i={},a={},o={};function s(e){return e.widgets||(e.widgets={}),e.widgets["default-widget"]={dedupGid:"0"},e.itemRegex||(e.itemRegex=".+"),e}t.a={addExtension:function(e,t){i[e]=t},addWidgetData:function(e,t){o[e]=t},getWidgetData:function(){return r.a.jsKey&&r.a.jsKey in o?s(o[r.a.jsKey]):s({})},addEarlyExtension:function(e,t){a[e]=t},maybeRunExtension:function(){r.a.jsKey&&r.a.jsKey in i&&void 0!==i[r.a.jsKey].run&&i[r.a.jsKey].run()},maybeRunEarlyExtension:function(){r.a.jsKey&&r.a.jsKey in a&&void 0!==a[r.a.jsKey].run&&a[r.a.jsKey].run()},reset:function(){i={},a={}}}},function(e,t,n){"use strict";var r=n(14),i=n(0),a=n(5),o=n(4),s=n(2),c=n(1),l=n(7),u=document;function d(){c.g("Running resetPageview at time: "+c.v()),i.a.refresh(),i.a.sdk.pushStateCallback(),s.a.refresh(),a.a.initializeCookies(),r.a.clearTimers(),r.a.initializeTimers(),i.a.isTunneling&&n.e(4).then(n.bind(null,27)).then((function(e){e.default.sendUrlChange()})).catch(c.C),l.a.loadAutoRender((function(e){e.resetWidgetsServed()})),o.a.send("pageview")}t.a={initializeNavigationEvents:function(){if(window.history){var e=window.history.pushState;window.history.pushState=function(t){return i.a.sdk.pushStateReset&&(c.g("Identified pushState change, triggering resetPageview based on Config.sdk.pushStateReset = true at time: "+c.v()),setTimeout(d,0)),e.apply(window.history,arguments)};var t=window.history.replaceState;window.history.replaceState=function(e){return i.a.sdk.replaceStateReset&&(c.g("Identified replaceState change, triggering resetPageview based on Config.sdk.pushStateReset = true at time: "+c.v()),setTimeout(d,0)),t.apply(window.history,arguments)}}var r=window.onhashchange||function(){return!0};window.onhashchange=function(){return i.a.sdk.hashChangeReset&&setTimeout(d,0),r.apply(window,arguments)};var a=window.onpopstate||function(){return!0};window.onpopstate=function(){return i.a.isTunneling&&n.e(4).then(n.bind(null,27)).then((function(e){e.default.sendUrlChange()})).catch(c.C),a.apply(window,arguments)}},setOnHashChangeReset:function(e){i.a.sdk.hashChangeReset=e},setPushStateReset:function(e){i.a.sdk.pushStateReset=e},isElementVisible:function(e){c.o("Entered isElementVisible on element at time: "+c.v(),e);var t=e.getBoundingClientRect(),n=window.innerWidth||u.documentElement.clientWidth,r=window.innerHeight||u.documentElement.clientHeight,a=function(e,t){return document.elementFromPoint(e,t)};if(c.o("Bounding rectangle for element: ",t),t.right<0||t.bottom<0||t.left>n||t.top>r)return c.o("Rectangle determined to be outside viewport, using parameters "+n+" and "+r,t),!1;0==t.height&&c.o("getBoundingClientRect has height of 0 for element: ",e);var o=!1;i.a.checkElementParentIsActuallyVisible&&(o=e.parentNode==a(t.left,t.top)||e.parentNode==a(t.right,t.top)||e.parentNode==a(t.right,t.bottom)||e.parentNode==a(t.left,t.bottom));var s=e.contains(a(t.left,t.top))||e.contains(a(t.right,t.top))||e.contains(a(t.right,t.bottom))||e.contains(a(t.left,t.bottom))||e.contains(a((t.left+t.right)/2,(t.top+t.bottom)/2));return c.o("Is element actually visible? "+s),s||o},debounce:function(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=window.setTimeout(o,t),s&&e.apply(i,a)}}}},function(e,t,n){"use strict";var r=n(1),i=n(2);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,a,o,c,l,u){if(r.m("Entered thirdPartyFetch",e,t,o,c,u),"string"!=typeof e)throw Error("url must be string");if(null==t||!(t>=0))throw Error("Timeout must be non-negative number. 0 means no timeout.");if("function"!=typeof n)throw Error("Expected successCallback to be function");if("function"!=typeof a)throw Error("Expected errorCallback to be function");o=!!o,c=!!c;var d,f,m,g=null!=l;l=l||{};var p="undefined"!=typeof XMLHttpRequest,h=p&&"withCredentials"in XMLHttpRequest.prototype,_="undefined"!=typeof XDomainRequest;c?(d=null,m="jsonp",f="jsonp (forced)"):h?(d=new XMLHttpRequest,f="XHR (with CORS)",m="xhr"):_&&!o?(d=new XDomainRequest,f=p?"XDR (has non-CORS XHR)":"XDR (no XHR support)",m="xdr"):(d=null,f=p&&_?"jsonp (has non-CORS XHR and XDR but needs credentials)":_?"jsonp (has XDR but needs credentials)":p?"jsonp (has non-CORS XHR)":"jsonp (no XHR and no XDR)",m="jsonp");var v="igniter_"+r.s().replace(/-/g,"");null==d?(l.jsonp=v,l.sdk="bc-jsonp"):(l.crd=o||null,l.sdk="bc-".concat(m,"-").concat(g?"post":"get"));var y=void 0;if(g&&null!=d)y=JSON.stringify(l,(function(e,t){if(null!=t)return t}));else{var w=s(l),b=w?e.indexOf("?")>=0?"&":"?":"";e=e+b+w}var k="sdk is ".concat(l.sdk," ").concat(f);if(i.a.queryExplanations.push(k),i.a.queryUrls.push(e),r.m("thirdPartyFetch: ".concat(k," to ").concat(e)),l=null,null==d){var E=document.createElement("script"),T=!1,C=0==t?null:setTimeout((function(){T||(T=!0,O())}),t);return window[v]=function(e){delete window[v],T||(T=!0,null!=C&&clearTimeout(C),n(e)),E.parentNode.removeChild(E)},E.async=E.defer=!0,E.src=e,E.onerror=function(e){T||(T=!0,null!=C&&clearTimeout(C),a(-3,"Jsonp script failed to load",e)),E.parentNode.removeChild(E)},void document.head.appendChild(E)}var I=g?"POST":"GET";try{d.open(I,e)}catch(e){return void r.U("LI: unexpected error opening request url using method "+I+" in thirdPartyFetch; timeout = "+t+", withCredentials = "+o+", forceJsonp = "+c+", queryExplanation = "+k,e)}if(d.withCredentials=o,d.onload=function(e){var t=this.responseText,i=this.status;if(200===i||null==i&&"{"===t[0]){var o;try{o=r.G(t,"onload.responseText")}catch(e){return void a(0,t,e)}null==o.statusCode||200==o.statusCode?n(o):a(o.statusCode,t,e)}else a(i||0,t,e)},d.ontimeout=O,d.onerror=function(e){r.k("error details:",e);var t=this.status||0;this.withCredentials?a(t,"network error: request was with credentials",e):a(t,"network error: request was without credentials",e)},0!==t)try{d.timeout=t}catch(e){r.k("unexpected error setting req.timeout when running thirdPartyFetch; timeout = "+t+", withCredentials = "+o+", forceJsonp = "+c+", queryExplanation = "+k,e)}try{d.send(y),u&&(i.a.fetchData.activeXHRs.push(d),r.m("Updated State.fetchData.activeXHRs",i.a.fetchData.activeXHRs))}catch(e){a(-1,e.name+": "+e.message+(null!=e.description?" "+e.description:""),e)}function O(){a(-2,"client timeout")}}function s(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=Array.isArray(i),s=a(i),c="string"==s||"number"==s&&isFinite(i)||"boolean"==s;if(o||c||"object"==s&&null!=i){var l=c?i:"globalHist"===r?i.join("|"):JSON.stringify(i);t+="".concat(n).concat(encodeURIComponent(r),"=").concat(encodeURIComponent(l)).replace(/%20/g,"+"),n="&"}}return t}t.a={thirdPartyFetchSafely:function(e,t,n,a,s,c,l,u){try{o(e,t,n,a,s,c,l,u)}catch(e){r.U("LI: unexpected error running thirdPartyFetch; timeout = "+t+", withCredentials = "+s+", forceJsonp = "+c+", queryExplanations = "+i.a.queryExplanations.join(";"),e)}},thirdPartyFetch:o,toQueryString:s}},function(e,t,n){"use strict";var r=n(0),i=n(1),a=window,o=[];t.a={initializeTimers:function(){if(r.a.qOpt.sendTimer&&r.a.timers)for(var e in r.a.timers)this.sendLater(e,r.a.timers[e])},clearTimers:function(){for(var e=0;e<o.length;e++)a.clearTimeout(o[e])},sendLater:function(e,t){o.push(a.setTimeout((function(){var t={w:i.B("li_medium"),source:i.B("li_source")};a[r.a.pmVar]("send",e,t)}),t))}}},function(e,t,n){"use strict";(function(t){var n=setTimeout;function r(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}o(t.promise,r)}else(1===e._state?o:s)(t.promise,e._value)}))):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void u((r=n,a=t,function(){r.apply(a,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var r,a}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e((function(e){n||(n=!0,o(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},i.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},i.all=function(e){return new i((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function a(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(t){a(e,t)}),n)}r[e]=o,0==--i&&t(r)}catch(e){n(e)}}for(var o=0;o<r.length;o++)a(o,r[o])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},i._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=i}).call(this,n(31).setImmediate)},function(e,t,n){"use strict";var r=0,i=0;function a(){var e=document.body;return document.documentElement&&document.documentElement.scrollTop||e&&e.scrollTop||0}function o(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight||0,t.scrollHeight||0,e.offsetHeight||0,t.offsetHeight||0,e.clientHeight||0,t.clientHeight||0)}function s(){var e=document.body,t=document.documentElement;return window.innerHeight||t.clientHeight||e.clientHeight||0}function c(){var e=(a()+s())/o()*100;return e>=100?100:e<=0?0:e}t.a={getDocHeight:o,getWinHeight:s,getVertScrollPos:a,getVertScrollPct:c,checkScroll:function(){var e=a();e>r&&(r=e);var t=c();t>i&&(i=Math.floor(t))},maxVertScrollPos:function(){return r},maxVertScrollPct:function(){return i},reset:function(){i=0,r=0}}},function(e,t,n){"use strict";t.a={getCurrentTime:function(){return(new Date).getTime()},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()}}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(8),a=n(11),o=n(1),s=n(4),c=n(6),l=n(2),u=n(5),d=n(13),f=n(10),m=window,g=document,p=o.S;function h(){if(-1!=m.location.search.indexOf("ig_exp_hash")){var e=parseInt(i.a.getParam("ig_exp_hash"));if(!isNaN(e)&&e<100&&e>=0)return e}}function _(e,t){(t=t||{}).f=r.a.sdk.requestFields?r.a.sdk.requestFields:null,t.arf=r.a.sdk.arrayRequestFields?r.a.sdk.arrayRequestFields:null;var n=r.a.sdk.mandatoryRequestFields;t.mf=n&&n.length>0?n:null;var i=r.a.sdk.mandatoryArrayRequestFields;for(var a in t.marf=i&&i.length>0?i:null,t.fa=r.a.sdk.requestFieldsAON?r.a.sdk.requestFieldsAON:null,t.gqi=r.a.sdk.getQueryInfo?r.a.sdk.getQueryInfo:null,e.opts)e.opts.hasOwnProperty(a)&&(t[a]=e.opts[a]);return t.max=e.max?e.max:null,t.w=e.name?e.name:null,t}function v(e,t,n,i,a){i=i||window.document,a=a||window;var s=o.x(l.a.fetchData.dedupQueue,n,[]);o.m("Running dedupItemsById on "+(e.items&&e.items.length||0)+" items to get "+t+" items for groupId "+n+" by deduplicating against a queue of length "+(Object.keys(s).length||0)+", response and current queue elements respectively: ",o.H(e),Object.keys(s));var c=[],u=r.a.sdk.iden,d=f.a.getCanonicalUrl(i,a);if(e.items)if(e.items.length)try{for(var m=0,g=0;m<e.items.length&&g<t;++m){var p=e.items[m][u]||"",h=o.q(p);if(("url"!=r.a.sdk.iden||p!=d)&&1!=s[h]){""!=n&&(s[h]=1);var _=o.H(e.items[m]);_.url=r.a.sdk.renderTransform(_.url),_.rank=++g,c.push(_)}}}catch(e){}else o.k("Query response received from LiftIgniter was either empty or not of the proper type. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");else o.k("The query response received from LiftIgniter did not have any items. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");return""!=n&&(l.a.fetchData.dedupQueue[n]=s,o.m("At the end of dedupItemsById, the number of deduplicated items is "+c.length+" and the queue size for groupId "+n+" is "+Object.keys(s).length+"; deduppedItems and queue respectively:",o.H(c),Object.keys(s))),{items:c}}function y(e,t){var n={items:[]};if(l.a.fetchData&&l.a.fetchData.recs&&e.optsKey&&l.a.fetchData.recs[e.optsKey])try{o.m("Going to call dedupItemsById with dedupGid "+t+" on object: ",o.H(e)),n=v(l.a.fetchData.recs[e.optsKey],e.max,t)}catch(t){o.k('[ERROR] Error returning deduplicated items in LiftIgniter fetch callback. Contact support@liftigniter.com with this error and also the results of $p("runDiagnostics") after running it in the console on this page',t),s.a.send("widget_request_error",{w:e.widget,errs:t,fetchIndex:e.fetchIndex,tryIndex:e.tryIndex,fullErrorDetails:t.stack})}else o.k("[ERROR]: Recommendations have disappeared for key "+e.optsKey+' between the time of returning them and running the callback function. This usually indicates conflicts between multiple fetches being done simultaneously. Contact support@liftigniter.com with this error and also the results of $p("runDiagnostics") after running it in the console on this page. State: ',l.a),l.a.updateErrorMessagesByEventType("widget_request_error","recs disappeared from map"),s.a.send("widget_request_error",{w:e.widget,errs:"recs disappeared from map",fullErrorDetails:"State.fetchData (truncated to 1000 chars) = "+o.Q(l.a.fetchData||{}).slice(0,1e3)});var i=[];try{i=(n.items||[]).map((function(e){return e.url||""})).map(r.a.trackingTransURL)}catch(e){o.k("[WARN] Error estimating visible items from response",e)}if(r.a.sdk){l.a&&l.a.responseWidgetMap&&(l.a.responseWidgetMap[e.widget||""]=(l.a.responseWidgetMap[e.widget||""]||0)+1),l.a&&l.a.responseVisibleItemsByWidgetName&&(l.a.responseVisibleItemsByWidgetName[e.widget||""]=i);var a=o.I({fst:e.fetchStartTime||0,fstr:e.fetchStartTimeRelative||0,pt:e.preparationTime||0,cl:e.clientLatency||0,w:e.widget||"",source:"LI",fetchIndex:e.fetchIndex,tryIndex:e.tryIndex,vi:JSON.stringify(i.slice(0,r.a.sdk.maxVizItemsToSend))},o.u());s.a.send("widget_response",a)}r.a.sdk.postProcessFunction(n,e,w)}function w(e,t){var n={};try{r.a.customCallbackByWidget&&r.a.customCallbackByWidget[t.widget||""]?(r.a.customCallbackByWidget[t.widget||""](e.items),n.customCallbackByWidget=!0):r.a.customCallback&&(r.a.customCallback(e.items),n.customCallback=!0)}catch(e){o.k("Exception when checking for or executing custom callback: ",e)}try{t.callback(e),n.userCallback=!0}catch(e){o.U("User-defined register callback unexpected exception",e,t.widget,"LI")}return n}function b(e,t,n,i){var a=l.a.fetchData.calls,s=l.a.fetchData.dedupMax;if(a.hasOwnProperty(e)){var u=a[e],d=0;for(var f in u.dedupGroups)d+=s[f];if(u.queryStartTime=o.v(),!(r.a.sdk.stabilize&&u.opts&&u.opts.recordingKey&&"string"==typeof u.opts.recordingKey&&c.a.hasStorageEnabled()&&c.a.getItem(String(o.q(u.opts.recordingKey.toString()))))){!r.a.sdk.stabilize||u.opts&&u.opts.recordingKey||o.m("Although sdk.stabilize is set to true, no recordingKey was provided, so we are neither using cached responses nor will we cached the responses for optsKey "+e),o.m("Fetching recommendations from remote server using optsKey "+e);var m=Object.keys(u.fetchInfo),g=u.opts?u.opts:{};return T({name:1===m.length?m[0]:"default-widget",max:Math.max(u.max,d),opts:o.I(g,{fetchInfo:JSON.stringify(u.fetchInfo),fetchIndex:n,tryIndex:i}),optsKey:e,serverName:t,callback:function(e,t){return k(e,t,a,u,!1,n,i)}},(function(){})),!0}var p=String(o.q(u.opts.recordingKey));o.m("Serving recommendations used cached values in local storage for hash "+p+" of recordingKey "+u.opts.recordingKey+" with optsKey "+e);var h=o.G(c.a.getItem(p),"tryCall.hashedKey");if(!l.a.fetchData.recsFetched)return k(h,{optsKey:e,opts:u.opts},a,u,!0,n,i),!0}return!1}function k(e,t,n,i,s,u,d){if(u==l.a.fetchData.fetchIndex&&!l.a.fetchData.recsFetched&&!l.a.fetchData.recs[t.optsKey])if(o.m("Entered queryServerCallback and recommendation-fetching was not already completed; fromCache = "+s),e.items){if(i.tryIndex=d,o.m("Recording recommendations under key "+t.optsKey,e),l.a.fetchData.recs[t.optsKey]=e,o.m("opts.opts",t.opts),r.a.sdk.stabilize&&t.opts&&t.opts.recordingKey&&"string"==typeof t.opts.recordingKey&&c.a.hasStorageEnabled()){var f=String(o.q(t.opts.recordingKey.toString()));s&&!t.opts.rerecord?o.m("Not saving recommendations into local storage because recommendations were already fetched from there, and rerecord is not turned on"):t.opts.recordingTtl&&"number"==typeof t.opts.recordingTtl&&t.opts.recordingTtl>0?(o.m("Saving recommendations into local storage using hash "+f+" of key "+t.opts.recordingKey+" for "+t.opts.recordingTtl+" seconds"),c.a.setItem(f,JSON.stringify(e),t.opts.recordingTtl)):(o.m("Saving recommendations into local storage using hash "+f+" of key "+t.opts.recordingKey+" indefinitely"),c.a.setItem(f,JSON.stringify(e)))}p(l.a.fetchData.recs)==p(n)&&(l.a.fetchData.recsFetched=!0,r.a.rankFiddling&&r.a.rankFiddling(l.a.fetchData.fetchQueue),l.a.fetchData.fetchQueue.forEach((function(e){e.fetchStartTime=i.fetchStartTime,e.fetchStartTimeRelative=i.fetchStartTimeRelative,e.preparationTime=i.queryStartTime&&i.fetchStartTimeRelative&&i.queryStartTime-i.fetchStartTimeRelative,i.queryEndTime=o.v(),i.clientLatency=i.queryStartTime&&i.queryEndTime-i.queryStartTime,e.clientLatency=i.clientLatency,e.tryIndex=i.tryIndex,e.fetchIndex=u;var t=a.a.getWidgetData();t.widgets[e.widget]?y(e,t.widgets[e.widget].dedupGid||""):y(e,"0")})),l.a.checkpointAndClear("completed successfully"),l.a.processRegisterFetchQueue("completed successfully"))}else o.k("Response does not seem to make sense, so punting")}function E(e,t,n,i){o.k("error code: "+t),o.k("error message: "+n),o.m("opts in queryServerErrorCallback:",e);var a="error code: "+t+"; error message: "+n;if(t>=500||429==t||0==t||-2==t||-3==t){if(0==t&&(l.a.xhrBroken=!0),u.a.getUserConsent((function(e){429==t&&e&&u.a.hasCookiesEnabled()&&u.a.createCookie(r.a.botClassificationKey,"1",10,6e4)})),0==t||429==t||-2==t){var c={errs:a,fetchIndex:e.opts.fetchIndex,tryIndex:e.opts.tryIndex};r.a.sdk.sendRequestErrorEventDetails&&(c.fullErrorDetails=function(e){if("string"==typeof e)return e;var t={};for(var n in e)switch(n){case"srcElement":case"target":case"currentTarget":for(var r in e[n])t[n+"_"+r]=e[n][r];break;default:t[n]=e[n]}return JSON.stringify(t)}(i)),s.a.send("widget_request_error",c)}0==t||429==t?l.a.updateErrorMessagesByEventType("widget_request_error",a):l.a.updateErrorMessagesByEventType("widget_request_timeout",a),!r.a.sdk.retry||l.a.fetchData.fetchIndex!=e.opts.fetchIndex||l.a.fetchData.recsFetched||l.a.fetchData.retried[e.optsKey]?(o.m("Giving up and not retrying; Config.sdk.retry = "+r.a.sdk.retry+"; State.fetchData.fetchIndex = "+l.a.fetchData.fetchIndex+"; opts.opts.fetchIndex = "+e.opts.fetchIndex+"; State.fetchData.recsFetched = "+l.a.fetchData.recsFetched+"; State.fetchData.retried = "+l.a.fetchData.retried),l.a.fetchData.givenUp=!0,r.a.sdk.enableBackup?C(e.opts.fetchIndex):I(e.opts.fetchIndex)):(o.k("Recs have not been received for one of the keys, so we are retrying",e.optsKey),l.a.fetchData.retried[e.optsKey]=!0,b(e.optsKey,r.a.sdk.backupQueryServer,e.opts.fetchIndex,2))}else(t>=400||t<0)&&(l.a.updateErrorMessagesByEventType("widget_request_error",a),s.a.send("widget_request_error",{errs:a,fetchIndex:e.opts.fetchIndex,tryIndex:e.opts.tryIndex}),l.a.fetchData.fetchIndex!=e.opts.fetchIndex||l.a.fetchData.recsFetched||(l.a.fetchData.retried[e.optsKey]=!0,l.a.fetchData.givenUp=!0,r.a.sdk.enableBackup?C(e.opts.fetchIndex):I(e.opts.fetchIndex)))}function T(e,t){var n=r.a.frontPageBoost?"ModelQ":void 0;o.m("Entered queryServer, opts",e);var a=function(t){try{e.callback(t,e)}catch(t){o.U("queryServer successCallback unexpected exception",t,e.name)}},s=function(t,n,r){try{return E(e,t,n,r)}catch(r){o.U("queryServer errorCallback unexpected exception",r,e.name)}};u.a.getUserConsent((function(f){o.m("Entered consent callback in queryServer function, consentGiven",f);var m=e.serverName+"/"+r.a.sdk.queryApiVersion;"v3"===r.a.sdk.queryApiVersion&&(m+="/"+(l.a.persistentQueryOpts.jsk||r.a.sdk.extraQueryOpts.jsk||e.opts.jsk||r.a.jsKey),f&&u.a.hasCookiesEnabled()&&o.K()&&o.L()&&(m+="/"+encodeURIComponent(l.a.persistentQueryOpts.uid||r.a.sdk.extraQueryOpts.uid||r.a.uid))),m+="/model",i.a.forCurrentExample(n,{},(function(n){o.m("Entered QueryString.forCurrentExample callback"),n=function(e){e=e||{};try{var t=r.a.globalCtx;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}catch(e){o.k("Error adding global context when making model query, the query will still proceed fine")}return e}(n),n=_(e,n);var i=h();n.forcedHash=isNaN(i)?null:i,n=function(e){try{return o.I(o.I(e,r.a.sdk.extraQueryOpts),l.a.persistentQueryOpts)}catch(t){return o.U("Problem merging extra and persistent query opts into query",t,e.w),e}}(n=function(e){e=e||{};try{var t=null;c.a.hasStorageEnabled()&&(r.a.longHist.active&&(t=o.G(c.a.getLongHist(),"getExtraExclusionListsIfApplicable.getLongHist")),r.a.longHist.active||c.a.removeItem(r.a.longHistKey)),e.exc=t}catch(e){o.k("Error when trying to add some storage data into query, continuing anyway. Contact support@liftigniter.com if you notice this, including information on your browser."),o.k("Error details",e)}return e}(n)),r.a.postQuery||(m+="?"+d.a.toQueryString(n),n=null);var u=function(){var e=!1,t=r.a.isInIframe?document.referrer:r.a.currentUrl;return t&&""!=t&&!r.a.isInIframe&&window&&window.location&&window.location.origin&&""!=window.location.origin&&(e=!0,o.F(window.location.origin)&&(e=!1)),0!=r.a.useThirdParty&&4!=o.a()||(e=!1),e}(),f=window&&window.location&&(window.location.origin||window.location.protocol+"//"+window.location.host);o.m("useThirdParty",u,"imputedOrigin",f),"string"!=typeof f||""==f||o.E(f)?(o.k("Not making actual Ajax call because window.location.origin test failed"),t(!1)):(d.a.thirdPartyFetchSafely(m,0,a,s,u,l.a.xhrBroken,n,!0),t(!0))}))}))}function C(e){try{!function(e){if(l.a.fetchData.recsFetched||l.a.fetchData.fetchIndex!==e)return;var t=a.a.getWidgetData(),n="backup_recs_"+r.a.jsKey,i=Math.max(l.a.fetchData.startTime+l.a.fetchData.timeout-o.z(),0);l.a.fetchData.givenUp&&(i=Math.min(i,1e3));o.m("Executing backup recs code after "+(o.z()-l.a.fetchData.startTime)+" ms of fetch with remainingTime = "+i+" ms; fetchIndex = "+e),m[n]=function(n){o.m("Loaded backup recs after "+(o.z()-l.a.fetchData.startTime)+" ms of fetch with remainingTime = "+i+" ms; fetchIndex = "+e),m.setTimeout((function(){if(!l.a.fetchData.recsFetched&&l.a.fetchData.fetchIndex===e){var r=[];l.a.fetchData.recsFetched=!0,l.a.fetchData.fetchQueue.forEach((function(e){r.push(e.widget),t.widgets[e.widget]?e.callback(v(n,e.max,t.widgets[e.widget].dedupGid)):e.callback(v(n,e.max,e.dedupGid||"0"))}));var i=o.I({method:"backupRec",interval:l.a.fetchData.timeout,errs:"no response",fetchIndex:e,w:r},o.u());s.a.send("timeout",i),l.a.updateErrorMessagesByEventType("timeout","Timed out after waiting for recommendations for "+l.a.fetchData.timeout+" milliseconds. Check the Network Panel for more details and check the console for any related error messages"),l.a.checkpointAndClear("completed with backup recs"),l.a.processRegisterFetchQueue("completed with backup recs")}}),i)};var c="//cdn.petametrics.com/backup_recs/"+r.a.jsKey,u=g.createElement("script");u.type="text/javascript",u.setAttribute("src",c),g.head.appendChild(u)}(e)}catch(e){o.U("error preparing backup recs",e)}}function I(e){if(!l.a.fetchData.recsFetched&&l.a.fetchData.fetchIndex===e){l.a.fetchData.recsFetched=!0;var t=[];l.a.fetchData.fetchQueue.forEach((function(e){if(t.push(e.widget),e.onTimeout&&"function"==typeof e.onTimeout)try{e.onTimeout()}catch(t){o.U("User-defined onTimeout unexpected exception",t,e.widget,"LI")}}));var n=function(){var e="no response";l.a.errorMessagesByEventType.widget_request_timeout?e=(l.a.errorMessagesByEventType.widget_request_timeout[l.a.errorMessagesByEventType.widget_request_timeout.length-1]||{message:""}).message:l.a.errorMessagesByEventType.widget_request_error&&(e=(l.a.errorMessagesByEventType.widget_request_error[l.a.errorMessagesByEventType.widget_request_error.length-1]||{message:""}).message);return e}(),r=o.I({method:"onTimeout",interval:l.a.fetchData.timeout,errs:n,fetchIndex:e,w:t},o.u());s.a.send("timeout",r),l.a.updateErrorMessagesByEventType("timeout","Timed out after waiting for recommendations for "+l.a.fetchData.timeout+" milliseconds. Check the Network Panel for more details and check the console for any related error messages."),l.a.checkpointAndClear("timed out"),l.a.processRegisterFetchQueue("timed out")}}var O={register:function(e){l.a.initializeFetchVariables();var t=o.y(e,"widget","string")||"default-widget",n=a.a.getWidgetData();if(n.widgets&&n.widgets[t]){var i=n.widgets[t].opts||{};e.opts=e.opts||{},e.opts=o.I(i,e.opts)}switch(e.itemsToRank&&(e.opts=e.opts||{},e.opts.itemsToRank=JSON.stringify(e.itemsToRank),delete e.itemsToRank),r.a.sdk.callHashType){case"widget":e.optsKey=t;break;case"both":e.optsKey=t.toString()+"_"+o.D(e.opts);break;case"opts":default:e.optsKey=String(o.D(e.opts||{}))}return l.a.fetchData.fetchQueue.push(e),o.m("Registered obj: ",e),!0},fetch:function(e){var t=(new Date).getTime(),n=o.v(),i=l.a.fetchData.fetchIndex;l.a.fetchCalled=!0,l.a.fetchData.started=!0,l.a.fetchData.recsFetched=!1,l.a.fetchData.finalized=!1,r.a.sdk.multiFetch&&(l.a.fetchData.dedupQueue={}),l.a.fetchData.startTime=o.z(),l.a.fetchData.timeout=e&&e.timeout||r.a.sdk.fetchTimeout,l.a.fetchData.waitTimeBeforeRetry=e&&e.waitTimeBeforeRetry||r.a.sdk.waitTimeBeforeRetry,e&&e.callback&&"function"==typeof e.callback&&(l.a.fetchData.callback=e.callback),l.a.fetchData.fetchQueue&&l.a.fetchData.fetchQueue.length>0&&(r.a.sdk.enableBackup?(m.setTimeout((function(){return C(i)}),2500),m.setTimeout((function(){return I(i)}),2500+l.a.fetchData.timeout)):m.setTimeout((function(){return I(i)}),l.a.fetchData.timeout),r.a.sdk.retry&&m.setTimeout((function(){!function(e){var t=l.a.fetchData.calls;for(var n in t)l.a.fetchData.recsFetched||l.a.fetchData.recs[n]||l.a.fetchData.retried[n]||l.a.fetchData.fetchIndex!==e||(o.k("Recs have not been received for one of the keys at fetchIndex "+e+", so we are retrying ",n),b(n,r.a.sdk.backupQueryServer,e,2))}(i)}),l.a.fetchData.waitTimeBeforeRetry));var s=a.a.getWidgetData(),c={},u={};for(var d in r.a.sdk.flipQueue&&(l.a.fetchData.fetchQueue=l.a.fetchData.fetchQueue.reverse()),l.a.fetchData.fetchQueue.forEach((function(e){o.m("Setting call data from fetchQueue for optsKey "+e.optsKey);var r=e.optsKey;c[r]||o.m("Using default call because there is no call for the optsKey "+e.optsKey);var i=c[r]||{dedupGroups:{},max:0,fetchInfo:{}},a=(s.widgets||{})[e.widget]||{},l=e.dedupGid||a.dedupGid||"0";l&&(u[l]=(u[l]||0)+(e.max||0),i.dedupGroups[l]=!0),i.max=Math.max(i.max,e.max),i.fetchInfo[e.widget]=e.max,i.opts=e.opts||{},i.dedupGid=e.dedupGid,i.fetchStartTime=t,i.fetchStartTimeRelative=n,c[r]=i})),l.a.fetchData.calls=c,l.a.fetchData.dedupMax=u,r.a.sdk.timerBufferShown&&(l.a.buffer.shown={}),c)b(d,r.a.sdk.queryServer,i,1);return!0},userCallback:w,recommendationCallback:y,tryCall:b,dedupItemsById:v,forcedHash:h,getRequestFieldParams:_,queryServer:T};t.default=O},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(8),a=n(11),o=n(1),s=n(9),c=n(4),l=n(12),u=n(2);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=document;function m(e,t,n){if(0==e.length&&0==t.length)return"both empty";if(JSON.stringify(e)==JSON.stringify(t))return"identical";if(0==e.length)return"first empty";if(0==t.length)return"second empty";if(JSON.stringify(e.concat().sort())==JSON.stringify(t.concat().sort()))return"permutation";for(var i=[],a=[],s=[],c=[],l=0;l<t.length;l++){var u=e.indexOf(t[l]);-1!==u?(i.push(t[l]),a.push(u),s.push(l)):c.push(t[l])}var d=i.concat([r.a.currentUrl]);if(n){o.i("commonItems and commonItemPositionsInRvi",i,a),o.i("visibleItems that are not responseVisibleItems",c);for(var f=[],m=0;m<e.length;m++){-1===t.indexOf(e[m])&&f.push(e[m])}o.i("responseVisibleItems that are not visibleItems",f)}return JSON.stringify(i)==JSON.stringify(t)&&JSON.stringify(a)==JSON.stringify(a.concat().sort())?JSON.stringify(d.concat().sort())==JSON.stringify(e.concat().sort())?"subsequence excluding current url":a[a.length-1]==a.length-1?"initial segment":a[0]+a.length==e.length?"final segment":a[a.length-1]-a[0]==a.length-1?"interior segment":"subsequence":JSON.stringify(i)==JSON.stringify(t)?"subset":JSON.stringify(i)==JSON.stringify(e)?"supersequence":JSON.stringify(i.concat().sort())==JSON.stringify(e.concat().sort())?"superset":JSON.stringify(a.concat().sort())==JSON.stringify(s.concat().sort())&&t.length==e.length&&s.length>=1?s.length==t.length-1?"all but one element match in same positions":"overlap and same size with matching elements in same positions":(i.length>0?"overlap":"no overlap")+" and "+(t.length==e.length?"same size":t.length>e.length?"bigger":"smaller")}function g(e,t,n,i){var a;if((a=t,("boolean"==typeof r.a.sdk.checkItemsMismatchByWidgetName[a]?r.a.sdk.checkItemsMismatchByWidgetName[a]:r.a.sdk.checkItemsMismatch)&&u.a.responseVisibleItemsByWidgetName&&u.a.responseVisibleItemsByWidgetName[t])&&(!(r.a.sdk.overrideViClickUrlWithResponseVisibleItemsByWidgetName&&r.a.sdk.overrideViClickUrlWithResponseVisibleItemsByWidgetName[t])&&JSON.stringify(u.a.responseVisibleItemsByWidgetName[t])!=JSON.stringify(e))){var s=function(e,t){var n=["subsequence","subsequence excluding current url","initial segment","final segment","interior segment","subset"];if(-1!==n.indexOf(t))return t;try{for(var r=0;r<u.a.fetchData.checkpointedRecs.length;r++)for(var i=u.a.fetchData.checkpointedRecs[u.a.fetchData.checkpointedRecs.length-1-r],a=Object.keys(i),o=0;o<a.length;o++){for(var s=i[a[o]].items,c=[],l=0;l<s.length;l++)s[l].url&&c.push(s[l].url);var d=m(c,e);if("identical"===d)return t+"; equals past response";if(-1!==n.indexOf(d))return t+"; "+d+" of past response"}return t+"; no better diagnosis"}catch(e){return t+"; error getting better diagnosis: "+e.toString()}}(e,m(u.a.responseVisibleItemsByWidgetName[t],e,i));return i&&alert("widget_tracking_items_mismatch for "+t+"; "+s),u.a.updateWarningMessagesByEventType("widget_tracking_items_mismatch","widgetName = "+t+"; errs = "+s),c.a.send("widget_tracking_items_mismatch",o.I(n,{errs:s,vi:JSON.stringify(e.slice(0,r.a.sdk.maxVizItemsToSend)),responseVisibleItems:JSON.stringify(u.a.responseVisibleItemsByWidgetName[t].slice(0,r.a.sdk.maxVizItemsToSend))})),o.k("For widget name "+t+", the visible items in the response returned by us did not match the visible items tracked as shown.\nThe visible item list for response was ("+u.a.responseVisibleItemsByWidgetName[t].length+" items): \n"+JSON.stringify(u.a.responseVisibleItemsByWidgetName[t])+"\nThe visible item list tracked as shown was ("+e.length+" items): \n"+JSON.stringify(e)),!0}}function p(e,t,n,a,s,l){try{var f,m=s||"li",g=(d(f={},m+"_source",t.source),d(f,m+"_medium",t.w),d(f,m+"_pl",t.pl),d(f,m+"_tr",t.tr),f),p="",h=!1,_="",v="href";if(n){v=n+" data attribute";var y=e;a&&o.i("you are in element",y),(p=y.dataset[n])?y.dataset[n]=i.a.replaceParams(p,g,r.a.sdk.hashBeforeUrlParams):(h=!0,_="url: "+p+" "+y.outerHTML.slice(0,r.a.sdk.numCharsInHrefNotFoundErrString)),p=y.dataset[n]}else{var w=e;a&&o.i("you are in anchor",w);var b=w.href||w.getAttribute("href");b?(w.href=i.a.replaceParams(b,g,r.a.sdk.hashBeforeUrlParams),p=w.href):(h=!0,_="href: "+b+" "+w.outerHTML.slice(0,r.a.sdk.numCharsInHrefNotFoundErrString))}if(h){var k="Element missing "+v+": "+_,E="Source: "+(t.source||"")+"; Widget: "+(t.w||"")+"; "+k;o.k(E),u.a.updateErrorMessagesByEventType("widget_tracking_error",E),a&&alert("widget_tracking_error for "+(t.w||"")+":"+(t.source||"")+": missing "+v+" at position "+l),c.a.send("widget_tracking_error",o.I(t,{errs:"Tracked element at position "+l+" has no "+v+" so cannot be tagged",fullErrorDetails:k}))}return p}catch(e){k="Error tagging element at position "+l+' when invoking the $p("track",...) function. This usually happens when we are unable to find any anchors or elements with data attributes in the tracked area. It could be because you are tracking the incorrect area, or it could be because the content loads dynamically. Click tracking may still work but we won\'t be able to determine the click URL. Error: '+e;a&&alert("widget_tracking_error for "+(t.w||"")+":"+(t.source||"")+"; error: "+e),c.a.send("widget_tracking_error",o.I(t,{errs:""+e})),u.a.updateErrorMessagesByEventType("widget_tracking_error",k),o.k(k+e.stack)}}function h(e,t,n,i){var a=n.w||"default-widget",s="widget_click";try{var l=n.clickUrl||"";if(r.a.sdk.stripParamsWhenCheckingVisibleItems&&(l=(n.clickUrl||"").split("?")[0].split("#")[0]),-1!=u.a.clickUrls.indexOf(l)){var d="";return r.a.sdk.stripParamsWhenCheckingVisibleItems&&(d="after trimming"),o.k("A duplicate click event was detected for the url "+(n.clickUrl||"")+", "+d+": "+l+", when comparing against the list, hence not sending the duplicate click",u.a.clickUrls),void u.a.duplicatesDetected.push(s)}if(window.performance&&window.performance.now&&"function"==typeof window.performance.now&&u.a&&u.a.tsplsByEventType&&u.a.tsplsByEventType.widget_click&&window.performance.now()-u.a.tsplsByEventType.widget_click[u.a.tsplsByEventType.widget_click.length-1]<100){s+="_likely_duplicate",u.a.duplicatesDetected.push(s),o.k("We detected a click event within less than 100 ms after the previous click event. The widget name is "+a+" and source is "+(n.source||"")),n.errs="Click less than 100 ms after last click on different url";var f="Time gap: "+(window.performance.now()-u.a.tsplsByEventType.widget_click[u.a.tsplsByEventType.widget_click.length-1])+" ms; previous clickUrl = "+u.a.clickUrls[u.a.clickUrls.length-1]+"; current clickUrl = "+l;o.k(f),n.fullErrorDetails=f}u.a.clickUrls.push(l)}catch(e){o.k("Encountered unexpected error when checking for duplicate click event, continuing anyway",e)}try{window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(u.a.timing.clickTimes[a]=o.v(),n.tsv=(u.a.timing.clickTimes[a]||0)-(u.a.timing.visibleTimes[a]||0),n.tss=(u.a.timing.clickTimes[a]||0)-(u.a.timing.shownTimes[a]||0))}catch(e){o.k("Encountered unexpected error when adding performance information to visible event: ",e)}i&&alert("click for "+n.w+":"+n.source),c.a.sendRobust(s,n)}function _(e,t,n,i){var a=r.a.sdk.trackAllElementsWithHref?"[href]":"a",s=0;return[].concat.apply([],e.map((function(e){var l=Array.prototype.slice.call(e.querySelectorAll(a));if("A"==(e.tagName||e.nodeName||""))l.push(e);else if(0!=l.length||r.a.sdk.allowTrackingWithoutTargetElement)0==l.length&&l.push(e);else{var d="tried tracking element at position "+s+" with no anchor";i&&alert("widget_tracking_error on element for "+t+":"+n),o.k("widget_tracking_error: "+d+"; widgetName = "+t+", source = "+n+"; element =",e.parentElement&&e.parentElement.innerHTML),c.a.send("widget_tracking_error",{errs:d,w:t,source:n,fullErrorDetails:"Element details: "+e.outerHTML.slice(0,1e3)}),u.a.updateErrorMessagesByEventType("widget_tracking_error",d)}return s+=1,l})))}function v(e,t,n,i,a,o,s,c){return function(e,t,n,r,i){return r?function(e,t,n,r,i){return[].concat.apply([],e.map((function(e){return e.dataset[r]})))}(e,0,0,r):_(e,t,n,i).map((function(e){return e.href}))}(e,a,o,s,c).map((function(e){return e?r.a.trackingTransURL(e):""})).filter((function(e){return e&&t.test(e)})).filter((function(e){return(!n||!n.test(e))&&e})).filter((function(e){return-1==i.indexOf(e)}))}var y={},w={};function b(e,t,n,r,i,a){t&&alert(i),c.a.send(n,o.I(e,a)),o.k(r),u.a.updateErrorMessagesByEventType(n,r)}function k(e,t,n,i,a){var s=function(e,t,n,i,a){try{var s=e.map((function(e){return e&&r.a.sdk.stripParamsWhenCheckingVisibleItems?e.split("?")[0].split("#")[0]:e||""})),l=r.a.currentUrl;if(r.a.sdk.stripParamsWhenCheckingVisibleItems&&(l=r.a.currentUrl.split("?")[0].split("#")[0]),r.a.sdk.removeCurrentUrlFromVisibleItems&&(s=s.filter((function(e){return r.a.sdk.ignoreCaseWhenRemovingCuFromVi?e.toLowerCase()!=l.toLowerCase():e!=l}))),s.indexOf(l)>-1&&!r.a.sdk.failIfCurrentItemTracked){var d="";1==e.length?(d="For the widget "+t+" and source "+n+", the only tracked href in the recommendation area is the same as the current url. This could mean either (a) a rendering error, where your links are pointing to the current page, namely "+r.a.currentUrl+" rather than to the intended recommended pages. This is usually due to an error in your template; or (b) a use of on-click overrides. Our tracking function uses the actual hrefs, so in the case of on-click overrides, our track function will not work.",a&&alert("current_item_tracked (and nothing else tracked) for "+t+":"+n),c.a.send("current_item_tracked",o.I(i,{errs:"Only tracked visible item equals the current item. Tracking is likely incorrect."})),o.k(d),u.a.updateErrorMessagesByEventType("current_item_tracked",d)):r.a.sdk.checkIfVisibleItemsIncludeCurrentUrl&&(d="For the widget "+t+" and source "+n+", the current url, namely "+r.a.currentUrl+", is one of the tracked hrefs, but not the only one. For a typical implementation, it should not be among the tracked hrefs at all, because you don't want to recommend a page as a recommendation on itself! Please check your rendering and tracking logic to check that you are linking to the intended recommended item and not to the current url.",a&&alert("current_item_tracked (and other items tracked) for "+t+":"+n),c.a.send("current_item_tracked",o.I(i,{errs:"One of the tracked visible items equals the current item. Tracking is likely incorrect."})),o.k(d),u.a.updateErrorMessagesByEventType("current_item_tracked",d))}return s}catch(r){return o.U("LI: Unexpected error when checking for visible items duplicating current item, but continuing:",r,t,n),e}return e}(e,t,n,i,a);return r.a.sdk.failIfCurrentItemTracked&&s.length<e.length?null:(r.a.sdk.removeCurrentUrlFromVisibleItems&&(e=s),r.a.sdk.filterVizByCssSelector&&(e=r.a.sdk.filterVizByCssSelector(e)),e)}var E={widgets:{},onClick:h,track:function(e){var t="_shown",n=e.opts||{},i=e._debug||r.a.sdk.debugTrack,d=e.elements,m=e.dataAttribute,E=o.y(e,"name","string"),T=o.y(e,"source","string"),C="string"==typeof e.placement||"number"==typeof e.placement?e.placement:null,I="string"==typeof e.treatment?e.treatment:null;if(function(e){if(u.a&&u.a.mostRecentTrackingObject){var t=o.y(e,"name","string");u.a.mostRecentTrackingObject[t]=o.I(e,{})}}(e),T)if(d&&d.length&&d.length>0){var O=function(e,t,n,i,o){var s=[],c=a.a.getWidgetData();return v(e,new RegExp(c.itemRegex)||/.*/,c.itemExcludeRegex?new RegExp(c.itemExcludeRegex):undefined,r["a"].sdk.trackingBlacklist,t,n,i,o).forEach((function(e){s.indexOf(e)<0&&s.push(r.a.trackingTransURL(e))})),s}(d=Array.prototype.slice.call(d),E,T,m,i);if(!r.a.sdk.failTrackUntilNewVisibleItemsInSpaPageReset||function(e,t){if(u.a.shownVisibleItemsByWidgetName[e]){var n=t.map((function(e){return e=o.N(e,"li_source"),e=o.N(e,"li_medium")}));return u.a.shownVisibleItemsByWidgetNameBeforeSpaPageReset[e]?u.a.shownVisibleItemsByWidgetNameBeforeSpaPageReset[e].toString()!=n.toString()&&(delete u.a.shownVisibleItemsByWidgetNameBeforeSpaPageReset[e],!0):(u.a.shownVisibleItemsByWidgetNameBeforeSpaPageReset[e]=n,!1)}return!0}(E,O)){!function(e,t,n,r,i){i.w=e,i.source=t,i.pl=n,i.tr=r}(E,T,C,I,n);var D=k(O,E,T,n,i);null!==D&&(O=D,"_shown"==t&&r.a.sdk.timerBufferShown||g(O,E,n,i),u.a.currentTrackVersionByWidgetName[E]=u.a.currentTrackVersionByWidgetName[E]?u.a.currentTrackVersionByWidgetName[E]+1:1,function(e,t,n,i,a,d,m,g){var p={vi:JSON.stringify(t.slice(0,r.a.sdk.maxVizItemsToSend))},h="widget"+m;u.a&&u.a.shownSourceMap&&a&&(u.a.shownSourceMap[a]=(u.a.shownSourceMap[a]||0)+1);u.a&&u.a.shownWidgetMap&&i&&(u.a.shownWidgetMap[i]=(u.a.shownWidgetMap[i]||0)+1);u.a&&u.a.shownVisibleItemsByWidgetName&&i&&(u.a.shownVisibleItemsByWidgetName[i]=t);if(null!=r.a.sdk.overrideViClickUrlWithResponseVisibleItemsByWidgetName&&"LI"===a){var _=r.a.sdk.overrideViClickUrlWithResponseVisibleItemsByWidgetName[g.w];_&&(t=u.a.responseVisibleItemsByWidgetName[_],p.vi=JSON.stringify(t.slice(0,r.a.sdk.maxVizItemsToSend)))}"_shown"==m&&r.a.sdk.timerBufferShown?(u.a.buffer.shown[i]||window.setTimeout((function(){u.a.buffer.shown[i]&&(d&&alert("shown for ".concat(i,":").concat(a)),c.a.send(h,u.a.buffer.shown[i]),u.a.buffer.shown[i]="")}),r.a.sdk.timerBufferShown),u.a.buffer.shown[i]=o.I(g,p)):(d&&alert("shown for ".concat(i,":").concat(a)),c.a.send(h,o.I(g,p)));d&&o.i("Going to attach visible listener at time: ".concat(o.v()));r.a.sdk.addOnVisibleWhenTracking&&n[0]&&function(e,t,n,i,a,d){d&&o.i("Running addOnVisible");var m=a.type||"widget",g=o.D(a);d&&o.i("optsHash",g),d&&o.i("this is test page value, ",a);var p=function(){if(d&&o.i("Running onVisible for widget "+t,e),l.a.isElementVisible(e)&&!y[g]){try{if(d&&o.i("Matched onVisible for widget "+t,e),window.performance&&window.performance.now){if(u.a.timing.visibleTimes&&u.a.timing.visibleTimes[t]&&o.v()-u.a.timing.visibleTimes[t]<500&&!r.a.sdk.multiTrack)return void o.k("Duplicate widget_visible event detected for the widget "+t+" firing within "+(o.v()-u.a.timing.visibleTimes[t])+" ms of the original event");u.a.timing.visibleTimes[t]=o.v(),u.a&&u.a.visibleWidgetMap&&t&&(u.a.visibleWidgetMap[t]=(u.a.visibleWidgetMap[t]||0)+1),a.st=u.a.timing.shownTimes[t]||0,a.tss=(u.a.timing.visibleTimes[t]||0)-(u.a.timing.shownTimes[t]||0)}}catch(e){o.k("Encountered unexpected error when adding performance information to visible event: ",e)}d&&alert("visible for "+t+":"+i.source),c.a.send(m+"_visible",o.I(o.I(i,a),{vi:JSON.stringify(n)})),y[g]=!0}else y[g]&&d&&o.i("Not tracking because already tracked!",g)};p(),s.a.addEvent(f,"DOMContentLoaded",l.a.debounce(p,250,!0)),s.a.addEvent(f,"load",l.a.debounce(p,250,!0)),s.a.addEvent(f,"resize",l.a.debounce(p,250,!0)),s.a.addEvent(f,"scroll",l.a.debounce(p,250,r.a.onVisibleImmediatelyAfterScroll)),setTimeout(p,500)}(n[0],i,t,g,g,d)}(0,O,d,E,T,i,t=function(e,t,n){try{if(window&&window.performance&&window.performance.now){if(!r.a.sdk.multiTrack&&u.a.timing.shownTimes[e]&&o.v()-u.a.timing.shownTimes[e]<r.a.sdk.timerShownLikelyDuplicate&&o.v()-u.a.timing.shownTimes[e]>r.a.sdk.timerBufferShown){u.a.duplicatesDetected.push("widget"+t),t="_shown_likely_duplicate";var i="Likely duplicate widget_shown within ".concat(100*Math.round((o.v()-u.a.timing.shownTimes[e])/100),"-").concat(100*Math.round((o.v()-u.a.timing.shownTimes[e])/100)+100," ms"),a="Likely duplicate widget_shown event detected for the widget ".concat(e," firing within ").concat(o.v()-u.a.timing.shownTimes[e]," ms of the original event.");o.k(a),n.errs=i,n.fullErrorDetails=a}u.a.timing.shownTimes[e]=o.v(),n.st=u.a.timing.shownTimes[e]}}catch(e){o.k("Unexpected error when recording the current time",e)}return t}(E,t,n),n),function(e,t,n,i,a,c,l){var d=e.params||{},f=!!e.dataAttribute,m=f?n:_(n,i,a,c);m=r.a.sdk.filterElementsByCssSelector(m),u.a&&u.a.mostRecentTrackedElements&&(u.a.mostRecentTrackedElements[i]=m);var g=e.tagPrefix||d.tagPrefix||"li",v=e.noTag||d.noTag||r.a.noTag||!1,y=e.noClick||d.noClick||!1;c&&(f?m.forEach((function(t){o.i("data-attr = ".concat(t.dataset[e.dataAttribute]))})):m.forEach((function(e){o.i("a = ".concat(e.href))})));var b=0;m.forEach((function(n){if(null!=r.a.sdk.overrideViClickUrlWithResponseVisibleItemsByWidgetName&&"LI"===a){var i=r.a.sdk.overrideViClickUrlWithResponseVisibleItemsByWidgetName[l.w];i&&(t=u.a.responseVisibleItemsByWidgetName[i])}v||p(n,l,e.dataAttribute,c,g,b),y||function(e,t,n,i,a,c){var l=u.a.currentTrackVersionByWidgetName[n.w],d=i?e.dataset[i]||"":e.href;if(d){var f=r.a.trackingTransURL(d);if(null!=r.a.sdk.overrideViClickUrlWithResponseVisibleItemsByWidgetName&&"LI"===n.source){var m=r.a.sdk.overrideViClickUrlWithResponseVisibleItemsByWidgetName[n.w];m&&(f=u.a.responseVisibleItemsByWidgetName[m][0])}var g=o.I({clickUrl:f},n);"function"==typeof r.a.sdk.widgetAnalysis&&(g=r.a.sdk.widgetAnalysis(e,g)),s.a.addEvent(e,"click",(function(e){r.a.sdk.ignoreNonMatchingTrackVersionClicks&&l!==u.a.currentTrackVersionByWidgetName[n.w]?a&&o.i("Ignoring widget click from non matching track version. Element has track version: "+l+". Current track version for widget "+n.w+" = "+u.a.currentTrackVersionByWidgetName[n.w]):(g.trigger="click",h(e,t,g,a))}),n.w),s.a.addEvent(e,"contextmenu",(function(e){r.a.sdk.ignoreNonMatchingTrackVersionClicks&&l!==u.a.currentTrackVersionByWidgetName[n.w]?a&&o.i("Ignoring widget context menu from non matching track version. Element has track version: "+l+". Current track version for widget "+n.w+" = "+u.a.currentTrackVersionByWidgetName[n.w]):(g.trigger="contextmenu",h(e,t,g,a))}),n.w)}}(n,l,o.I(l,{vi:JSON.stringify(t.slice(0,r.a.sdk.maxVizItemsToSend))}),e.dataAttribute,c),b+=1})),w[i]=!0}(e,O,d,E,T,i,n))}else o.o("There are no new visible items in the SPA page reset, so failing the track function")}else!function(e,t,n,r){var i="Error in calling LiftIgniter track function for ".concat(e,". There appear to be no elements to track."),a="".concat("widget_tracking_empty_list"," for ").concat(e,":").concat(t);b(n,r,"widget_tracking_empty_list",i,a,{errs:"No elements to track, so not executing the track function",w:e,source:t})}(E,T,n,i);else!function(e,t,n){var r="".concat("widget_tracking_error"," (missing source) for ").concat(e);b(t,n,"widget_tracking_error","Error in calling LiftIgniter track function; no source parameter specified. The tracking will not be executed and the associated widget_shown, widget_visible, and widget_click events will not fire.",r,{errs:"source parameter not specified in track function, so not tracking this widget",w:e})}(E,n,i)},getTracked:function(){return w},updateViz:k,getItemsMismatchDiagnosis:m,checkIfItemsMismatch:g,getAnchors:_,getViz:v,tagElement:p};t.default=E},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(8),a=n(10),o=n(1),s=n(4),c=n(2),l=n(13),u=n(9);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){c.a.inventoryData.scrapingAborted=!0,c.a.inventoryData.scrapingAbortReason=e,window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(c.a.inventoryData.timing.scrapeAbort=o.v())}function m(){try{if(o.j("Starting safe collection of inventory"),p(),window.performance&&window.performance.now&&"function"==typeof window.performance.now&&window.performance.now()>2e4){var e="Scraping took "+o.v()+' milliseconds, more than the threshold of 10 seconds. Run $p("runDiagnostics") and look at [DEBUG] Inventory data for more timing information',t=10*(window.performance.now()/1e4|0);o.k(e),r.a.sdk.checkIfScrapingDelayed&&s.a.send("scraping_delayed",{errs:"Scraping took more than "+t+" seconds, but less than "+(t+10)+" seconds"})}}catch(t){e="Error in inventory collection: "+t+"; please check the JSON formatting for metadata; you can check formatting at http://jsonlint.com";o.k(e),s.a.send("scraping_fail",{errs:""+t}),c.a.updateErrorMessagesByEventType("scraping_fail",e)}}function g(){c.a&&c.a.inventoryData&&(c.a.inventoryData.scrapingStarted=!0,window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(c.a.inventoryData.timing.scrapeStart=o.v()));var e=r.a.inventory.collectOpenGraph?a.a.scrapeOpenGraph():{};if(r.a.inventory.collectOpenGraph){o.j("Starting Open Graph tag collection");for(var t=0;t<r.a.inventory.mandatoryOpenGraphFeatures.length;t++)if(void 0===e[r.a.inventory.mandatoryOpenGraphFeatures[t]])return o.j("You are missing the following Open Graph feature for your metadata: "+r.a.inventory.mandatoryOpenGraphFeatures[t]),f("missing open graph feature: "+r.a.inventory.mandatoryOpenGraphFeatures[t]),{status:"aborted",reason:"missing open graph feature: "+r.a.inventory.mandatoryOpenGraphFeatures[t]}}var n=r.a.inventory.features;if(n)for(t=0;t<n.length;t++){var i=n[t];o.j("Going to try scraping feature ",i);var l=a.a.scrapeFeature(i);l&&l.length>0&&(o.j("Setting value for feature with name "+i.name+" to ",l),e[i.name]=l)}for(var u in e.title||(e.title=[a.a.getTitleFallback()]),e.url=[a.a.getCanonicalUrl()],o.j('title = "'+e.title+'", url = "'+e.url+'"'),e)if(e.hasOwnProperty(u)){var m=e[u];"object"===d(m)&&m instanceof Array&&(m=m.filter((function(e){return null!=e}))),null!=m&&m.length>0||delete e[u]}if(r.a.inventory.collectJSON){var g=a.a.scrapeJSON();if(o.j("metadata JSON as scraped",g),null===g){var p="scraping liftigniter-metadata failed due to an invalid JSON.";if(s.a.send("scraping_fail",{errs:p}),o.j(p),c.a.updateErrorMessagesByEventType("scraping_fail",p),!r.a.inventory.softFailOnLiMetadataScrapeJSON)return f(p),{status:"aborted",reason:"scraping liftigniter-metadata failed due to an invalid JSON"};g={}}e=o.I(e,g)}for(var u in e)if(e.hasOwnProperty(u)){var h=e[u];"object"===d(h)&&h instanceof Array&&(h=h.filter((function(e){return null!=e}))),null==h&&delete e[u]}for(t=0;t<r.a.inventory.mandatoryFeatures.length;t++)if(void 0===e[r.a.inventory.mandatoryFeatures[t]])return o.j("You are missing the following feature for your metadata: "+r.a.inventory.mandatoryFeatures[t]),f("missing feature: "+r.a.inventory.mandatoryFeatures[t]),{status:"aborted",reason:"missing feature: "+r.a.inventory.mandatoryFeatures[t]};var _=r.a.inventory.itemRegex,v=r.a.inventory.excludeRegex;if(_){var y=e[r.a.inventory.id][0];if(e[r.a.inventory.id]&&y&&null===y.match(_))return o.j("The item being scraped, with "+r.a.inventory.id+" field having value "+y+", violated the condition that this value should match the regex "+_),f("item being scraped "+y+" did not match itemRegex "+_),{status:"aborted",reason:"item being scraped "+y+" did not match itemRegex "+_}}if(v){var w=e[r.a.inventory.id][0];if(e[r.a.inventory.id]&&w&&null!==w.match(v))return o.j("The item being scraped, with "+r.a.inventory.id+" field having value "+w+", violated the condition that this value should not match the regex "+v),f("item being scraped "+w+" matched excludeRegex "+v),{status:"aborted",reason:"item being scraped "+w+" matched excludeRegex "+v}}var b=r.a.inventory.filters;if(b&&e){var k=e[r.a.inventory.id][0];for(t=0;t<b.length;t++){var E=e[b[t].name];if(Array.isArray(E)&&E.indexOf(b[t].value)>=0){if("true"!=b[t].negate)return o.j("The item being scraped, with "+r.a.inventory.id+" field having value "+k+", is being filtered out because the field with name "+b[t].name+" includes the value "+b[t].value),f("Failed filter: field with name "+b[t].name+" had value "+b[t].value),{status:"aborted",reason:"Failed filter: field with name "+b[t].name+" had value "+b[t].value}}else if("true"==b[t].negate)return o.j("The item being scraped, with "+r.a.inventory.id+" field having value "+k+", is being filtered out because the field with name "+b[t].name+" does not include the value "+b[t].value),f("Failed filter: field with name "+b[t].name+" did not have value "+b[t].value),{status:"aborted",reason:"Failed filter: field with name "+b[t].name+" did not have value "+b[t].value}}}return c.a&&c.a.inventoryData&&(c.a.inventoryData.scrapingFinished=!0,window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(c.a.inventoryData.timing.scrape=o.v())),{status:"success",item:e}}function p(){c.a&&c.a.inventoryData&&(c.a.inventoryData.collectStarted=!0,window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(c.a.inventoryData.timing.collectStart=o.v()));var e=g();"success"==e.status&&Object.keys(e.item).length>1&&(r.a.inventory.usePost?function(e){o.j("Going to use dispatchInventoryPost for scraped item");var t=i.a.basicParam(null);o.j("basicParamsComputed in dispatchInventoryPost",t);var n;n=JSON.stringify(o.I(t,{item:e})),o.j("Using postBody",n),s.a.send("scraping_fail",{errs:"POST method is unsupported"})}(e):function(e){o.j("Going to use dispatchInventoryGet for scraped item",e);var t=i.a.basicParam(null);o.j("basicParamsComputed in dispatchInventoryGet",t);var n=l.a.toQueryString(t),a=r.a.inventory.inventoryServer+"/"+r.a.inventory.inventoryApiVersion+"/__inventory.gif?"+n;a+="&item="+encodeURIComponent(JSON.stringify(e.item)),a+=void 0===r.a.inventory.version?"":"&ver="+r.a.inventory.version,(a+="&ttl="+r.a.inventory.ttl)&&a.length<=r.a.inventory.maxUrlLength?s.a.fetchOrPixel(a):s.a.send("scraping_fail",{errs:"url too long",fullErrorDetails:"url length is "+a.length})}(e),c.a&&c.a.inventoryData&&(c.a.inventoryData.inventorySent=!0,window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(c.a.inventoryData.timing.send=o.v())))}var h={collect:p,loadExportables:function(){if(r.a.inventory.loadExportables){!1===r.a.serverConfig.exportable.inventoryCollect&&(r.a.inventory.collect=!1);var e=r.a.serverConfig.exportable.scrapedFields;if(e)for(var t=0;t<e.length;t++){var n=!1;if(e[t].returnAll=!0,r.a.inventory.features){for(var i=0;i<r.a.inventory.features.length;i++)if(r.a.inventory.features[i].name==e[t].name){n=!0,r.a.inventory.features[i]=e[t];break}}else r.a.inventory.features=[];n||r.a.inventory.features.push(e[t])}r.a.serverConfig.exportable.mandatoryScrapeFeatures&&(r.a.inventory.mandatoryFeatures=r.a.serverConfig.exportable.mandatoryScrapeFeatures),r.a.serverConfig.exportable.includeInventoryRegex&&(r.a.inventory.itemRegex=r.a.serverConfig.exportable.includeInventoryRegex),r.a.serverConfig.exportable.excludeInventoryRegex&&(r.a.inventory.excludeRegex=r.a.serverConfig.exportable.excludeInventoryRegex)}},scrapeInventory:g,collectInventoryWhenReady:function(){if(r.a.inventory.useCustomInventoryTrigger){r.a.inventory.inventoryReadyEvent=u.a.createEvent("li-inventory-ready");null!==r.a.inventory.inventoryReadyEvent&&document.addEventListener("li-inventory-ready",(function e(){m(),document.removeEventListener("li-inventory-ready",e)}))}else u.a.domComplete((function(){o.j("DOM complete, checking if inventory collection can be started");var e=0;c.a.startupInfo.initEndTime||(e=1e3),r.a.inventory.minTimeToWaitAfterDomComplete&&"number"==typeof c.a.startupInfo.initEndTime&&c.a.startupInfo.initEndTime<r.a.inventory.minTimeToWaitAfterDomComplete&&(e=r.a.inventory.minTimeToWaitAfterDomComplete),window.setTimeout((function(){m()}),e)}))},safelyCollectInventory:m,dispatchInventoryReadyEvent:function(){r.a.inventory.inventoryReadyEvent&&(o.j("Triggering inventory collection based on inventoryReadyEvent"),u.a.dispatchEvent(r.a.inventory.inventoryReadyEvent))}};t.default=h},function(e,t,n){"use strict";var r=n(1);t.a={addCss:function(e,t){var n=document.querySelector('style[data-li-widget-name="'+e+'"]');if(n&&n.parentNode?n.parentNode.removeChild(n):r.n("DomModifiers.addCss(): Not removing oldStyle because oldStyle.parentNode is null."),t){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",a.setAttribute("data-li-widget-name",e),a.appendChild(document.createTextNode(t)),i.appendChild(a)}},addScript:function(e,t){var n=document.querySelector('script[data-li-widget-name="'+e+'"]');if(n&&n.parentNode?n.parentNode.removeChild(n):r.n("DomModifiers.addScript(): Not removing oldScript because oldScript.parentNode is null."),t){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");a.innerHTML=t,a.setAttribute("data-li-widget-name",e),i.appendChild(a)}},addHTML:function(e,t,n){"replace"==t?e.innerHTML=n:e.insertAdjacentHTML(t,n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"oldWidgetToRecUnitAndPageGroup",(function(){return b}));var r=n(0),i=n(3),a=n(1),o=n(10),s=n(2),c=n(21),l=n(6),u=n(29),d=n(7),f=["click","visible","domnodeinserted"],m={},g=[],p=[];function h(e,t,n,i){if("disabled"==e.view)return n.widgetInfo(i,{status:"not rendered",reason:"This widget is currently set as disabled"}),!1;if("disabled"==t)return n.widgetInfo(i,{status:"not rendered",reason:"The widget is disabled because li-view-mode=disabled in the URL"}),!1;if(e.requiredSelector&&null===document.querySelector(e.requiredSelector))return n.widgetInfo(i,{status:"not rendered",reason:"The widget is disabled because its required selector is missing on this page: "+e.requiredSelector}),!1;if(r.a.sdk.slotRenderCondition){var a=r.a.sdk.slotRenderCondition(e);return a||n.widgetInfo(i,{status:"not rendered",reason:"The widget is disabled because the render condition defined at Config.sdk.slotRenderCondition was not met"}),a}return!0}function _(e,t,n){var r=window.location.href;return e.includeRegex&&null===r.match(e.includeRegex)?(t.widgetInfo(n,{status:"not rendered",reason:"The url did not match the widget include regex"}),!1):!e.excludeRegex||null===r.match(e.excludeRegex)||(t.widgetInfo(n,{status:"not rendered",reason:"The url matched the widget exclude regex"}),!1)}function v(e,t,n,o,s){a.n("render function inputs (resp, pageGroup, slot, widget, diagnostics)",e,t,n,o,s);var l=a.B("li-view-mode"),u=m[o.name];c.a.addCss(o.name,o.css);var f=null;f=o.newWidget?function(e,t){return a.V(e.newWidget.selector,50,40).then((function(n){null!==n&&"replaceOuter"!==e.newWidget.insertionType?c.a.addHTML(n,e.newWidget.insertionType,e.newWidget.template):t.widgetInfo(e.name,{status:"not rendered",reason:"Widget selector was not found"})}))}(o,s):a.M();var g="replace"!=o.insertionType||r.a.sdk.widgetHasVaryingLength?1:o.maxCount,p=r.a.sdk.waitForATagsOnWaitForSelectAll?n.selector+"> a":n.selector;f.then((function(){return a.W(p,50,40,g)})).then((function(f){function g(r,i,c,l){var f,m=d.a.Mustache.render(r,i).trim();if("replaceOuter"===l){var g=document.createElement("div");g.innerHTML=m,f=g.firstChild,c&&c.parentNode?c.parentNode.replaceChild(f,c):a.n("not rendering slot",n,"because el.parentNode is null.")}else"replace"===l?(c.innerHTML=m,f=c):"beforebegin"==l?(c.insertAdjacentHTML(l,m),f=c.previousElementSibling):(c.insertAdjacentHTML(l,m),f=c);u&&u.selector!=n.selector&&(f.style.outline="4px dashed #fc8813");var p=document.querySelector(n.reRenderCss);return n.reRenderCss&&p&&w(p,f,(function(){v(e,t,n,o,s)})),f}if(r.a.sdk.transformBaseHTML&&(r.a.sdk.transformBaseHTML(n,o,f,e),f=document.querySelectorAll(n.selector)),null!==f&&f.length>0){var p="true"===o.params.outer;if(u&&u.selector!==n.selector)for(var h=document.querySelectorAll(u.selector),_=0;_<h.length&&_<u.elements.length;_++)h[_].parentNode.replaceChild(u.elements[_],h[_]),u.elements[_].style.outline=null;"console"!=l||u&&u.selector==n.selector||(m[o.name]={selector:n.selector,elements:Array.from(f).map((function(e){return e.cloneNode(!0)}))});var y=r.a.sdk.replaceDotsInTemplate?a.P(o.template||o.itemTemplate):o.template||o.itemTemplate,b=[];if(o.isNewWidget&&o.insertionType){var k=f[0],E=e.items.map((function(e){return a.O(r.a.sdk.autoRenderItemTransform(e))}));b.push(g(y,{items:E},k,o.insertionType))}else for(_=0;_<f.length&&_<e.items.length;_++){var T=a.O(r.a.sdk.autoRenderItemTransform(e.items[_]));b.push(g(y,T,f[_],p?"replaceOuter":"replace"))}b.length>e.items.length&&!o.isNewWidget&&s.addWarning(o.name,"There were fewer items recommended than slots available"),"function"==typeof r.a.sdk.autoRenderPreprocTrackingFunc&&(r.a.sdk.autoRenderPreprocTrackingFunc(o,n),b=Array.prototype.slice.call(document.querySelectorAll(n.selector))),i.a.track({elements:b,name:o.name,source:"LI",placement:n.id,treatment:o.name})}else s.widgetInfo(o.name,{status:"not rendered",reason:"No item selectors were found"});c.a.addScript(o.name,o.script),s.sendDiagnostic(o.name);var C={pageGroupId:t.id,slotId:n.id};d.a.loadAutoEvents((function(e){e.widgetRenderedCallback(C,o.name)}))}))}function y(e,t,n,c,l){a.n("serveSingleWidget (pageGroup, slot, nameToWidget, diagnostics, biggestProbWidgetName)",e,t,n,c,l);var u,f=i.a.abSlice();if(r.a.sdk.autoRenderCustomAbSlice){r.a.sdk.autoRenderCustomAbSlice(t).then((function(e){var n=!1,r=!1;"LI"===e?(u=t.slices.filter((function(e){return"base"!==e.widgetName}))[0],n=!0,r=!0):"base"===e&&(u=t.slices.filter((function(e){return"base"===e.widgetName}))[0],n=!0),n&&(h(),s.a.allowRegister=!1,r&&i.a.fetch())}))}else{for(var g=0,p=0;g<t.slices.length&&!(f<(p+=(u=t.slices[g]).probability));g++);h()}function h(){var s=n[u.widgetName];if("base"!=u.widgetName){var f=document.querySelectorAll(t.selector).length,g=r.a.sdk.widgetHasVaryingLength&&!t.reRenderCss&&f>0?f:s.maxCount;g!==s.maxCount&&a.n("Registering "+g+" (the number of matches to the slot selector "+t.selector+") as max, rather than using widget.maxCount value of "+s.maxCount);var p={max:g,widget:u.widgetName,opts:o.a.fetchDynamicParams(s.params),callback:function(n){return v(n,e,t,s,c)}};r.a.sdk.autoRenderOnTimeoutByWidgetName[u.widgetName]&&(p.onTimeout=r.a.sdk.autoRenderOnTimeoutByWidgetName[u.widgetName]),i.a.register(p)}else{s=n[l],c.widgetInfo(l,{status:"not rendered",reason:"The A/B testing slice is falling on the base slice"}),c.sendDiagnostic(l);var _=m[s.name];if(_){a.o("Removing oldNode for widget.name = "+s.name);for(var y=document.querySelectorAll(_.selector),b=0;b<y.length&&b<_.elements.length;b++)y[b].parentNode.replaceChild(_.elements[b],y[b]);m[s.name]=null}if(!s.isNewWidget&&null==s.newWidget||r.a.sdk.forceBaseSliceTrackingInAutoRender){r.a.sdk.forceBaseSliceTrackingInAutoRender?a.o("Calling tracking on the base slice because Config.sdk.forceBaseSliceTrackingInAutoRender is true. Widget details:",a.H(s)):a.o("Calling tracking on the base slice because we are replacing an existing widget. Widget details:",a.H(s));var k=r.a.sdk.widgetHasVaryingLength?1:s.maxCount,E=a.W(t.selector,50,40,k);a.o("Autorender qsPromise began with parameters:",t.selector,50,40,k),E.then((function(n){a.o("Autorender qsPromise resolved:",t.selector,50,40,k),i.a.track({elements:n,name:l,source:"base",placement:t.id,treatment:s.name});var r=document.querySelector(t.reRenderCss);if(t.reRenderCss&&r)for(var o=0;o<n.length;o++)w(r,n[o],h);var c={pageGroupId:e.id,slotId:t.id};d.a.loadAutoEvents((function(e){e.widgetRenderedCallback(c,"base")}))}))}else a.o("Not calling tracking on the base slice because we are not just replacing an existing widget. Widget details:",a.H(s))}}}function w(e,t,n){var r=new MutationObserver((function(e){var r=!1;e.forEach((function(e){var n=Array.from(e.removedNodes),i=n.indexOf(t)>-1,a=n.some((function(e){return e.contains(t)}));(i||a)&&(r=!0)})),r&&p.length>0&&(p.forEach((function(e){return e.disconnect()})),p=[],n())}));p.push(r),r.observe(e,{childList:!0,subtree:!0})}function b(e){var t,n;t={name:e.name,params:e.params,css:e.css,itemTemplate:e.itemTemplate,script:e.script,maxCount:e.maxCount,newWidget:e.newWidget};var r=e.name,i=e.uuid,a=e.view,o=e.selector,s=e.trigger,c=e.testFraction,l=e.requiredSelector,u=[{probability:c,widgetName:e.name},{probability:100-c,widgetName:"base"}];n=[{id:i||e.id,name:r,view:a,selector:o,trigger:s,requiredSelector:l,slices:u}];var d=e.uuid,f=e.name,m=e.includeRegex,g=e.excludeRegex;return{widget:t,pageGroup:{id:d||e.id,name:f,includeRegex:m,excludeRegex:g,slots:n}}}var k={serveWidgets:function(e){var t=function(){var e=a.B("li-view-mode"),t=l.a.getItem("_igViewMode");if(e)return e;if(t)return t;return null}(),n=!1,o=r.a.serverConfig.exportable,c=o.pageGroups,m=o.widgets,p=[];c=c||[],m=m||[];for(var v=0;v<m.length;v++)if(m[v].itemTemplate){var w=b(m[v]),k=w.pageGroup,E=w.widget;c.push(k),p.push(E)}else p.push(m[v]);if(c.length&&p.length){a.n("serveWidgets function (pageGroups, recUnits)",c,p);for(var T="console"==t,C=new u.a(T,r.a.sdk.debugRender),I={},O=0;O<p.length;O++)I[p[O].name]=p[O];for(var D=0;D<c.length;D++){var M=c[D];if(null==e||e.pageGroupId==M.id)e:for(var R=0;R<M.slots.length;R++){var x=M.slots[R];if(null==e||e.slotId==x.id){for(var S=null,P=null,A=0;A<x.slices.length;A++){var B=x.slices[A],U=B.widgetName,L=B.probability;if("base"!=U&&(null==P||L>P)&&(S=x.slices[A].widgetName,P=x.slices[A].probability),null==I[U]&&"base"!=U){C.addWidget(U),C.addWarning(U,"Widget code could not be found"),C.sendDiagnostic(U);continue e}}if(null!=S){if(null==e&&x.trigger&&-1!=f.indexOf(x.trigger.name))if("continue"===function(){var e={type:"renderWidgets",pageGroupAndSlot:{pageGroupId:M.id,slotId:x.id},trigger:x.trigger};return d.a.loadAutoEvents((function(t){t.registerEvent(e)})),"continue"}())continue;h(x,t,C,S)&&_(M,C,S)?"live"!=x.view&&"console"!=t||-1!==g.indexOf(x.id)?"preview"==x.view&&"preview"==t&&-1===g.indexOf(x.id)&&(n=!0,y(M,x,I,C,S),g.push(x.id)):(n=!0,y(M,x,I,C,S),g.push(x.id)):(C.addWidget(S),C.sendDiagnostic(S))}}}}!1===r.a.serverConfig.exportable.shouldFetch&&(n=!1),n&&!r.a.sdk.overrideShouldFetch&&("console"!==t&&(s.a.allowRegister=!1),i.a.fetch()),r.a.sdk.overrideShouldFetch&&setTimeout((function(){!s.a.fetchData.started&&s.a.fetchData.fetchQueue.length>0&&i.a.fetch()}),r.a.sdk.overrideShouldFetchTimeoutDuration)}},resetWidgetsServed:function(){g=[]},isSlotEnabled:h,isValidPage:_};t.default=k},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(4),a=n(3),o=n(12),s=n(10),c=n(1),l=n(2),u=n(30),d=n.n(u),f=n(7),m=Element.prototype.matches||Element.prototype.msMatchesSelector,g=[];function p(e,t){document.addEventListener(e.name,(function n(r){m.call(r.target,e.selector)&&(e.fireOnce&&document.removeEventListener(e.name,n,!0),t(r))}),!0)}function h(e,t,n){"visible"==e.name?function(e,t){var n=function n(){var i=document.querySelector(e.selector);i&&o.a.isElementVisible(i)&&(r.a.sdk.allowDelayedRegister&&(l.a.allowRegister=!0),document.removeEventListener("DOMContentLoaded",n,!0),document.removeEventListener("load",n,!0),document.removeEventListener("resize",n,!0),document.removeEventListener("scroll",n,!0),t())};document.addEventListener("DOMContentLoaded",n,!0),document.addEventListener("load",n,!0),document.addEventListener("resize",n,!0),document.addEventListener("scroll",n,!0)}(e,t):"click"==e.name||"mouseover"==e.name?p(e,t):"wait"==e.name?function(e,t){setTimeout(t,1e3*e.seconds)}(e,t):"rendered"==e.name?function(e,t){g.push({pageGroupAndSlot:e.pageGroupAndSlot,fireOnce:e.fireOnce,fired:!1,slice:e.slice,callback:t})}(e,t):"domnodeinserted"==e.name?function(e,t,n){if(null!==document.querySelector(e.selector))return c.n("widget trigger:",e.selector,"found on page load so rendering the widget now and skipping DOM mutations observer"),void t();var i=r.a.sdk.domNodeInserted,a=i.interval,o=i.numTries;c.V("body",a,o).then((function(i){if(null!==i){var a=document.querySelector("body");new d.a((function(i,a){i.forEach((function(i){if(i&&"childList"==i.type&&(document.querySelector(e.selector)&&!l.a.domNodeInsertedTriggeredBySlotId[n.pageGroupAndSlot.slotId]))return l.a.domNodeInsertedTriggeredBySlotId[n.pageGroupAndSlot.slotId]=!0,r.a.sdk.allowDelayedRegister&&(l.a.allowRegister=!0),a.disconnect(),void t()}))})).observe(a,{attributes:!1,childList:!0,subtree:!0})}else c.k("Error <body> is not present in DOM.")}))}(e,t,n):"pageload"==e.name&&t()}function _(e){var t;if(!1!==e.collectEvent&&function(e){var t=window.location.href;return(!e.includeRegex||null!==t.match(e.includeRegex))&&((!e.excludeRegex||null===t.match(e.excludeRegex))&&(!e.requiredSelector||null!==document.querySelector(e.requiredSelector)))}(e)){var n=e.trigger;switch(e.type){case"activity":h(n,(t=e.fields,function(){i.a.sendRobust(t.type,s.a.fetchDynamicParams(t))}));break;case"modifyPage":h(n,function(e){return function(){var t=c.B("li-view-mode");"disabled"==e.view||"disabled"==t||"live"==e.view||"console"==t||e.view}}(e));break;case"renderWidgets":h(n,function(e){return function t(){l.a.fetchData&&l.a.fetchData.started&&!l.a.fetchData.finalized?(c.n("fetch in progress: ",l.a.fetchData),c.n("will attempt to serve this widget in 100ms again",e),window.setTimeout((function(){t()}),100)):(c.n("now serving this widget",e),f.a.loadAutoRender((function(t){t.serveWidgets(e.pageGroupAndSlot)})))}}(e),e);break;case"track":h(n,function(e){return function(){a.a.track({elements:e.selector,name:e.widgetName,source:e.source})}}(e))}}}var v={registerEvent:_,addCustomEvents:function(){var e=r.a.serverConfig.exportable.events;if(e)for(var t=0;t<e.length;t++)_(e[t])},widgetRenderedCallback:function(e,t){for(var n=0;n<g.length;n++){var r=g[n],i="all"==r.slice||r.slice==t;e.pageGroupId==r.pageGroupAndSlot.pageGroupId&&e.slotId==r.pageGroupAndSlot.slotId&&i&&(!0===r.fireOnce&&r.fired||(r.callback(),r.fired=!0))}}};t.default=v},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(15),i=n.n(r),a=n(0),o=n(5),s=n(6),c=n(9),l=n(11),u=n(4),d=n(16),f=n(14),m=n(12),g=n(8),p=n(3),h=n(1),_=n(2);var v={isConsoleReferrer:function(){return"console"==g.a.getUrlParameter(document.referrer,"li-view-mode")},isConsoleChild:function(){return"li-child"==window.name||"li-child-nf"==window.name},setStateToConsoleMode:function(){var e=g.a.updateUrlParameter(window.location.href,"li-view-mode","console");history.replaceState(history.state,document.title,e),window.name="li-child"}},y=n(7);function w(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){h.k("JavaScript SDK is not activated.")}var E={start:function(e){this.setWebpackChunkUrl(),(v.isConsoleReferrer()||v.isConsoleChild())&&(h.i("Setting state to console mode based on isConsoleReferrer() or isConsoleChild()"),v.setStateToConsoleMode()),a.a.serverConfig=e,e.modules&&h.w(e.modules).forEach((function(t){y.a[t]=e.modules[t]})),a.a.isTunneling="console"==g.a.getParam("li-view-mode"),a.a.isTunneling?(h.i("Starting tunneling. This will allow for communication with the LiftIgniter console"),a.a.serverConfig.modules.AutoRender?n.e(4).then(n.bind(null,27)).then((function(e){e.default.startTunnel()})).catch(h.C):n.e(2).then(n.bind(null,22)).then((function(e){return y.a.AutoRender=e.default,n.e(1).then(n.bind(null,23))})).then((function(e){return y.a.AutoEvents=e.default,n.e(4).then(n.bind(null,27))})).then((function(e){e.default.startTunnel()})).catch(h.C)):this.runBacklog()},runBacklog:function(){var e=this,t=a.a.pmVar,n=window[t].q||[],r=window[t].s||window.$ps,i=window[t].r,o=window[t].e;r&&(_.a.startupInfo.beaconLoadStartTime=0|r),i&&(_.a.startupInfo.beaconLoadRestartTime=0|i),o&&(_.a.startupInfo.beaconLoadError=o),window[t]=function(){return e.processCall(arguments)};for(var s=0;s<n.length;s++)e.processCall(n[s],s)},recordAndLogCall:function(e,t){var n=h.v();"number"==typeof t?_.a.invocationLog.push({args:e,callTime:n,positionInBacklog:t}):_.a.invocationLog.push({args:e,callTime:n}),h.g("$p function: ",h.H(e[0])),h.g("$p params: ",h.H(Array.prototype.slice.call(e,1))),h.g("$p function call time: "+n),"number"==typeof t&&h.g("$p position in backlog: "+t)},processCall:function(e,t){var n=Array.prototype.slice.call(e),r=function(){};try{r=h.T("processCall: "+n[0]+" arguments: "+h.Q(n.slice(1),"stringification failed")),this.recordAndLogCall(n,t)}catch(e){h.k("Unexpected error recording and logging call",e)}if(null!==_.a.setUserIdBacklog)switch(n[0]){case"send":case"sendOnce":case"sendRobust":case"setUserId":case"resetPageview":case"fetch":return h.g("setUserId in progress, adding to setUserIdBacklog",n),_.a.setUserIdBacklog.push(n),void h.g("Updated setUserIdBacklog",h.H(_.a.setUserIdBacklog))}try{switch(n[0]){case"init":this.init.apply({},[r].concat(w(n.slice(1))));break;case"send":var i=u.a.send.apply({},n.slice(1));return r(),i;case"sendOnce":var c=u.a.sendOnce.apply({},n.slice(1));return r(),c;case"sendRobust":var l=u.a.sendRobust.apply({},n.slice(1));return r(),l;case"collectInventory":y.a.loadInventory((function(e){e.collect.apply({},n.slice(1)),r()}));break;case"setPushStateReset":m.a.setPushStateReset.apply({},n.slice(1)),r();break;case"setOnHashChangeReset":m.a.setOnHashChangeReset.apply({},n.slice(1)),r();break;case"printDebugInfo":this.printDebugInfo.apply({},n.slice(1)),r();break;case"debug":a.a.debug=!0===n[1],r();break;case"resetPageview":var d=p.a.isActivated()?p.a.resetPageview.apply({},n.slice(1)):k();return r(),d;case"setSessionId":var f=p.a.isActivated()?o.a.setSessionId.apply({},n.slice(1)):k();return r(),f;case"setUserId":var g=p.a.isActivated()?o.a.setUserId.apply({},[n[1],this].concat(w(n.slice(2)))):k();return r(),g;case"userId":var v=p.a.isActivated()?p.a.userId.apply({},n.slice(1)):k();return r(),v;case"getWidgetNames":var b=p.a.isActivated()?p.a.getWidgetNames.apply({},n.slice(1)):k();return r(),b;case"setRequestFields":p.a.isActivated()?p.a.setRequestFields.apply({},n.slice(1)):k(),r();break;case"setRequestFieldsAON":p.a.isActivated()?p.a.setRequestFieldsAON.apply({},n.slice(1)):k(),r();break;case"setArrayRequestFields":p.a.isActivated()?p.a.setArrayRequestFields.apply({},n.slice(1)):k(),r();break;case"setMandatoryRequestFields":p.a.isActivated()?p.a.setMandatoryRequestFields.apply({},n.slice(1)):k(),r();break;case"setMandatoryArrayRequestFields":p.a.isActivated()?p.a.setMandatoryArrayRequestFields.apply({},n.slice(1)):k(),r();break;case"optOut":p.a.isActivated()?p.a.optOut.apply({},n.slice(1)):k(),r();break;case"optBack":p.a.isActivated()?p.a.optBack.apply({},n.slice(1)):k(),r();break;case"setGetQueryInfo":p.a.isActivated()?p.a.setGetQueryInfo.apply({},n.slice(1)):k(),r();break;case"setNoTag":p.a.isActivated()?p.a.setNoTag.apply({},n.slice(1)):k(),r();break;case"register":var E=p.a.isActivated()?p.a.register.apply({},n.slice(1)):k();return r(),E;case"fetch":var T=p.a.isActivated()?p.a.fetch.apply({},n.slice(1)):k();return r(),T;case"track":p.a.isActivated()?p.a.track.apply({},n.slice(1)):k(),r();break;case"userHash":var C=p.a.isActivated()?p.a.userHash.apply({},n.slice(1)):k();return r(),C;case"abTestSlice":var I=p.a.isActivated()?p.a.abTestSlice.apply({},n.slice(1)):k();return r(),I;case"render":var O=p.a.isActivated()?p.a.render.apply({},n.slice(1)):k();return r(),O;case"sendItem":var D=p.a.isActivated()?p.a.sendItem.apply({},n.slice(1)):k();return r(),D;case"setContext":var M=p.a.isActivated()?p.a.setContext.apply({},n.slice(1)):k();return r(),M;case"setPersistentConfig":var R=s.a.setPersistentConfig.apply({},n.slice(1));return r(),R;case"getPersistentConfig":var x=s.a.getPersistentConfig();return r(),x;case"setPersistentQueryOpts":var S=s.a.setPersistentQueryOpts.apply({},n.slice(1));return r(),S;case"getPersistentQueryOpts":var P=s.a.getPersistentQueryOpts();return r(),P;case"getHist":var A=p.a.isActivated()?a.a.getHistList.apply(a.a,n.slice(1)):k();return r(),A;case"getPageviewId":var B=p.a.isActivated()?a.a.pvid:k();return r(),B;case"setHist":var U=p.a.isActivated()?p.a.setHist.apply({},n.slice(1)):k();return r(),U;case"setViewMode":var L=p.a.isActivated()?p.a.setViewMode.apply({},n.slice(1)):k();return r(),L;case"onload":var W=n[1]();return r(),W;case"runDiagnostics":var K=_.a.runDiagnostics(n[1]||"log");return r(),K;case"abSlice":var N=p.a.abSlice();return r(),N;case"updateConfig":var j=p.a.updateConfig.apply({},n.slice(1));return r(),j;case"rerun":var F=this.rerun(n[1]||-1);return r(),F;case"loadPromise":var q=this.loadPromise();return r(),q}}catch(t){h.U("We encountered an unexpected script error running "+(e[0]||""),t)}},init:function(e,t,n){if(null==a.a.jsKey){var r={ae:!1,ar:!1,inv:!1};n=n||{},a.a.jsKey=t,a.a.disabledCust[t]?h.k("Thank you for using LiftIgniter! Your jsKey "+a.a.jsKey+" is disabled. If you are interested in re-activating our service, please contact us at support@liftigniter.com"):(_.a.startupInfo.initStartTime=h.v(),l.a.maybeRunEarlyExtension(),!a.a.isInIframe&&window&&window.location&&window.location.origin&&""!=window.location.origin&&h.E(window.location.origin)||(c.a.addEvent(window,"scroll",m.a.debounce(d.a.checkScroll,100)),a.a.init(n.config),o.a.initializeCookies(),s.a.initializeStoredSettings(),y.a.loadInventory((function(e){r.inv=!0,e.loadExportables(),i()}),(function(){r.inv=!0,i()})),a.a.init(_.a.persistentConfig),f.a.initializeTimers(),m.a.initializeNavigationEvents(),a.a.extensionOff||l.a.maybeRunExtension(),y.a.loadAutoEvents((function(e){r.ae=!0,y.a.loadAutoRender((function(t){r.ar=!0,e.addCustomEvents(),t.serveWidgets(null),i()}),(function(){r.ar=!0,i()}))}),(function(){r.ae=!0,r.ar=!0,i()})),a.a.inventory.collect&&y.a.loadInventory((function(e){r.inv=!0,e.collectInventoryWhenReady(),i()}),(function(){r.inv=!0,i()})),u.a.keepCheckingBuffer(),_.a.startupInfo.initEndTime=h.v(),_.a.startupInfo.beaconLoadError&&h.R("beacon_load_error","beacon failed to load",{failureTimestamp:_.a.startupInfo.beaconLoadError.timeStamp})))}function i(){r.ae&&r.ar&&r.inv&&e()}},rerun:function(e){if(_.a.invocationLog&&0<=e&&e<_.a.invocationLog.length-1&&_.a.invocationLog[e].args)return h.l("Running processCall on index = "+e,_.a.invocationLog[e].args),this.processCall(_.a.invocationLog[e].args);h.l("Failed to find a command to rerun at index = "+e)},printDebugInfo:function(e){var t=Array.prototype.slice.call(arguments);h.e()&&n.e(3).then(n.bind(null,34)).then((function(n){n.printDebugInfo(e,t)})).catch(h.C)},setWebpackChunkUrl:function(){try{var e=document.currentScript.src,t=e.split(".com/")[1].split(".js")[0],r=new URL(e);n.p=r.origin+"/"+t+"/"+n.p}catch(e){h.g("error setting webpack chunk url:",e);var i=document.querySelector('script[src*="petametrics"]'),a=i&&i.src;if(i&&a){var o=a.split(".com/")[1].split(".js")[0],s=a.split(".com/")[0]+".com";n.p=s+"/"+o+"/"+n.p}else h.g("setting webpack chunk path to default"),n.p="https://cdn.petametrics.com/default/"+n.p}},loadPromise:function(){window.Promise?h.k("window.Promise was already set. We did not reset it."):(window.Promise=i.a,h.k('window.Promise has now been set. You can now run diagnostic commands $p("runDiagnostics") and $p("printDebugInfo").'))}};t.a=E},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var a=Object.keys(Object(i)),o=0,s=a.length;o<s;o++){var c=a[o],l=Object.getOwnPropertyDescriptor(i,c);void 0!==l&&l.enumerable&&(n[c]=i[c])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},,function(e,t,n){var r,i,a,o;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */o=function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(e){return"function"==typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test,s=/\S/;function c(e){return!function(e,t){return o.call(e,t)}(s,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,d=/\s+/,f=/\s*=/,m=/\s*\}/,g=/#|\^|\/|>|\{|&|=|!/;function p(e){this.string=e,this.tail=e,this.pos=0}function h(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function _(){this.cache={}}p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},p.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},h.prototype.push=function(e){return new h(e,this)},h.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var i,o,s=this,c=!1;s;){if(e.indexOf(".")>0)for(t=s.view,i=e.split("."),o=0;null!=t&&o<i.length;)o===i.length-1&&(c=a(t,i[o])),t=t[i[o++]];else t=s.view[e],c=a(s.view,e);if(c)break;s=s.parent}n[e]=t}return r(t)&&(t=t.call(this.view)),t},_.prototype.clearCache=function(){this.cache={}},_.prototype.parse=function(t,r){var a=this.cache,o=a[t];return null==o&&(o=a[t]=function(t,r){if(!t)return[];var a,o,s,l=[],h=[],_=[],v=!1,y=!1;function w(){if(v&&!y)for(;_.length;)delete h[_.pop()];else _=[];v=!1,y=!1}function b(e){if("string"==typeof e&&(e=e.split(d,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(i(e[0])+"\\s*"),o=new RegExp("\\s*"+i(e[1])),s=new RegExp("\\s*"+i("}"+e[1]))}b(r||e.tags);for(var k,E,T,C,I,O,D=new p(t);!D.eos();){if(k=D.pos,T=D.scanUntil(a))for(var M=0,R=T.length;M<R;++M)c(C=T.charAt(M))?_.push(h.length):y=!0,h.push(["text",C,k,k+1]),k+=1,"\n"===C&&w();if(!D.scan(a))break;if(v=!0,E=D.scan(g)||"name",D.scan(u),"="===E?(T=D.scanUntil(f),D.scan(f),D.scanUntil(o)):"{"===E?(T=D.scanUntil(s),D.scan(m),D.scanUntil(o),E="&"):T=D.scanUntil(o),!D.scan(o))throw new Error("Unclosed tag at "+D.pos);if(I=[E,T,k,D.pos],h.push(I),"#"===E||"^"===E)l.push(I);else if("/"===E){if(!(O=l.pop()))throw new Error('Unopened section "'+T+'" at '+k);if(O[1]!==T)throw new Error('Unclosed section "'+O[1]+'" at '+k)}else"name"===E||"{"===E||"&"===E?y=!0:"="===E&&b(T)}if(O=l.pop())throw new Error('Unclosed section "'+O[1]+'" at '+D.pos);return function(e){for(var t,n=[],r=n,i=[],a=0,o=e.length;a<o;++a)switch((t=e[a])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,a=e.length;i<a;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(h))}(t,r)),o},_.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof h?t:new h(t);return this.renderTokens(r,i,n,e)},_.prototype.renderTokens=function(e,t,n,r){for(var i,a,o,s="",c=0,l=e.length;c<l;++c)o=void 0,"#"===(a=(i=e[c])[0])?o=this.renderSection(i,t,n,r):"^"===a?o=this.renderInverted(i,t,n,r):">"===a?o=this.renderPartial(i,t,n,r):"&"===a?o=this.unescapedValue(i,t):"name"===a?o=this.escapedValue(i,t):"text"===a&&(o=this.rawValue(i)),void 0!==o&&(s+=o);return s},_.prototype.renderSection=function(e,t,i,a){var o=this,s="",c=t.lookup(e[1]);if(c){if(n(c))for(var l=0,u=c.length;l<u;++l)s+=this.renderTokens(e[4],t.push(c[l]),i,a);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],t.push(c),i,a);else if(r(c)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(t.view,a.slice(e[3],e[5]),(function(e){return o.render(e,t,i)})))&&(s+=c)}else s+=this.renderTokens(e[4],t,i,a);return s}},_.prototype.renderInverted=function(e,t,r,i){var a=t.lookup(e[1]);if(!a||n(a)&&0===a.length)return this.renderTokens(e[4],t,r,i)},_.prototype.renderPartial=function(e,t,n){if(n){var i=r(n)?n(e[1]):n[e[1]];return null!=i?this.renderTokens(this.parse(i),t,n,i):void 0}},_.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},_.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},_.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.2",e.tags=["{{","}}"];var v=new _;return e.clearCache=function(){return v.clearCache()},e.parse=function(e,t){return v.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return v.render(e,t,r)},e.to_html=function(t,n,i,a){var o=e.render(t,n,i);if(!r(a))return o;a(o)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},e.Scanner=p,e.Context=h,e.Writer=_,e},t&&"string"!=typeof t.nodeName?o(t):(i=[t],void 0===(a="function"==typeof(r=o)?r.apply(t,i):r)||(e.exports=a))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),i=n(0);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"useDiagnostics",void 0),o(this,"debugRender",void 0),o(this,"diagnostics",void 0),this.useDiagnostics=t,this.debugRender=n,this.diagnostics={widgets:{}}}var t,s,c;return t=e,(s=[{key:"addWidget",value:function(e){(this.useDiagnostics||this.debugRender)&&(this.diagnostics.widgets[e]||(this.diagnostics.widgets[e]={status:"success",name:e,warnings:[]}))}},{key:"widgetInfo",value:function(e,t){var n=this;(this.useDiagnostics||this.debugRender)&&Object.keys(t).forEach((function(r){n.diagnostics.widgets[e]||(n.diagnostics.widgets[e]={name:e,status:"success",warnings:[]}),n.diagnostics.widgets[e][r]=t[r]}))}},{key:"addWarning",value:function(e,t){(this.useDiagnostics||this.debugRender)&&this.diagnostics.widgets[e].warnings.push(t)}},{key:"sendDiagnostic",value:function(e){if(this.useDiagnostics&&i.a.isTunneling){var t=this;n.e(4).then(n.bind(null,27)).then((function(n){n.default.sendWidgetDiagnostic(t.diagnostics.widgets[e])})).catch(r.C)}this.debugRender&&r.n("AutoRender diagnostics:",this.diagnostics.widgets[e])}}])&&a(t.prototype,s),c&&a(t,c),e}()},function(e,t){var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r=window.WeakMap;if(void 0===r){var i=Object.defineProperty,a=Date.now()%1e9;(r=function(){this.name="__st"+(1e9*Math.random()>>>0)+a+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:i(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];if(!t)return!1;var n=t[0]===e;return t[0]=t[1]=void 0,n},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}var o=new r,s=window.msSetImmediate;if(!s){var c=[],l=String(Math.random());window.addEventListener("message",(function(e){if(e.data===l){var t=c;c=[],t.forEach((function(e){e()}))}})),s=function(e){c.push(e),window.postMessage(l,"*")}}var u=!1,d=[];function f(){u=!1;var e=d;d=[],e.sort((function(e,t){return e.uid_-t.uid_}));var t=!1;e.forEach((function(e){var n=e.takeRecords();!function(e){e.nodes_.forEach((function(t){var n=o.get(t);n&&n.forEach((function(t){t.observer===e&&t.removeTransientObservers()}))}))}(e),n.length&&(e.callback_(n,e),t=!0)})),t&&f()}function m(e,t){for(var n=e;n;n=n.parentNode){var r=o.get(n);if(r)for(var i=0;i<r.length;i++){var a=r[i],s=a.options;if(n===e||s.subtree){var c=t(s);c&&a.enqueue(c)}}}}var g,p,h=0;function _(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++h}function v(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function y(e,t){return g=new v(e,t)}function w(e){return p||((n=new v((t=g).type,t.target)).addedNodes=t.addedNodes.slice(),n.removedNodes=t.removedNodes.slice(),n.previousSibling=t.previousSibling,n.nextSibling=t.nextSibling,n.attributeName=t.attributeName,n.attributeNamespace=t.attributeNamespace,n.oldValue=t.oldValue,(p=n).oldValue=e,p);var t,n}function b(e,t){return e===t?e:p&&((n=e)===p||n===g)?p:null;var n}function k(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}_.prototype={observe:function(e,t){var n;if(n=e,e=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(n)||n,!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r,i=o.get(e);i||o.set(e,i=[]);for(var a=0;a<i.length;a++)if(i[a].observer===this){(r=i[a]).removeListeners(),r.options=t;break}r||(r=new k(this,e,t),i.push(r),this.nodes_.push(e)),r.addListeners()},disconnect:function(){this.nodes_.forEach((function(e){for(var t=o.get(e),n=0;n<t.length;n++){var r=t[n];if(r.observer===this){r.removeListeners(),t.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},k.prototype={enqueue:function(e){var t,n=this.observer.records_,r=n.length;if(n.length>0){var i=b(n[r-1],e);if(i)return void(n[r-1]=i)}else t=this.observer,d.push(t),u||(u=!0,s(f));n[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=o.get(e);t||o.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach((function(e){this.removeListeners_(e);for(var t=o.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}}),this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,r=e.target;(a=new y("attributes",r)).attributeName=t,a.attributeNamespace=n;var i=null;"undefined"!=typeof MutationEvent&&e.attrChange===MutationEvent.ADDITION||(i=e.prevValue),m(r,(function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(n)))return e.attributeOldValue?w(i):a}));break;case"DOMCharacterDataModified":var a=y("characterData",r=e.target);i=e.prevValue;m(r,(function(e){if(e.characterData)return e.characterDataOldValue?w(i):a}));break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":r=e.relatedNode;var o,s,c=e.target;"DOMNodeInserted"===e.type?(o=[c],s=[]):(o=[],s=[c]);var l=c.previousSibling,u=c.nextSibling;(a=y("childList",r)).addedNodes=o,a.removedNodes=s,a.previousSibling=l,a.nextSibling=u,m(r,(function(e){if(e.childList)return a}))}g=p=void 0}},n||(n=_),e.exports=n},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(32),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(24))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,a,o,s,c=1,l={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){g(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){g(e.data)},r=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){g(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(g,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&g(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[c]=i,r(c),c++},f.clearImmediate=m}function m(e){delete l[e]}function g(e){if(u)setTimeout(g,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{m(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(24),n(33))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&m())}function m(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||u||s(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,,function(e,t,n){"use strict";n.r(t);var r=n(28),i=n.n(r),a=n(18),o=n(19),s=n(20),c=n(22),l=n(23),u={exportable:{homepage:"https://www.telegraph.co.uk/travel/destinations/europe/italy/veneto/venice/articles/Venice-attractions-what-to-see-and-do-in-winter2/",includeInventoryRegex:"(.*www.telegraph.co.uk/.+/.+/.+?)(?:[?#]|$)",mandatoryScrapeFeatures:[],widgets:[{name:"Author",uuid:"2beb94cb-e3f2-43b2-b689-f0dc31346f02",maxCount:5,testFraction:100,includeRegex:"https://www.telegraph.co.uk/authors/",view:"preview",selector:"div.list-of-entities.component.version-11-no-numbers > div.js-list-of-entities.component-content > ol > li.list-of-entities__item",itemTemplate:'<div class="list-of-entities__item-link">\n  <a href="{{url}}" class="list-of-entities__item-image-container" tabindex="-1" data-frz-ratio="1.60" data-frz-parent="" style="background-image: url(&quot;{{image}}&quot;);">\n    <div class="responsive-image list-of-entities__item-image " data-width="1280" data-height="799" data-alt="{{title}}" data-frz-ratio="1.60" data-src="{{image}}" style="padding-bottom:62.42%;" data-asset-type="article" data-lazy-loaded="true">\n      <noscript>\n<img src="{{image}}" alt="{{title}}" width="1280" height="799" class="responsive-image--fallback"/>\n</noscript>\n      <img src="{{image}}" class="responsive-image__source" alt="{{title}}"></div>\n  </a>\n  <div class="list-of-entities__item-body">\n    <span class="m_meta-property">\n<time class="m_meta-property__date" title="{{cosmeticDate}}" datetime="{{published_time}}" itemprop="datePublished" pubdate="">\n<span class="m_meta-property__date-date">{{cosmeticDate}}</span>\n    </time>\n    </span>\n    <h3 class="list-of-entities__item-body-headline">\n      <a href="{{url}}">{{title}}</a>\n    </h3>\n  </div>\n</div>',script:"var titleElement = document.querySelector('div.component-header h2.component-heading a')\ntitleElement.innerText = \"More Stories\"",params:{requestFieldsAON:"true",requestFields:["url","title","image","cosmeticDate","published_time","businessSegment","channel"]}},{name:"Gallery",uuid:"90a98061-e0d6-4ff0-b345-da608ec3798d",maxCount:3,defaultRule:"Gallery",testFraction:100,view:"disabled",selector:".list-of-entities__item.list-of-entities__item--gallery",itemTemplate:'<div class="list-of-entities__item-link">\n  <a href="{{url}}" class="list-of-entities__item-image-container" tabindex="-1" data-frz-ratio="1.60" data-frz-parent="" style="background-image: url(" {{thumbnail}} ";);">\n    <div class="responsive-image list-of-entities__item-image " data-width="1253" data-height="783" data-alt="{{title}}" data-frz-ratio="1.60" data-src="{{thumbnail}}" style="padding-bottom:62.49%;" data-asset-type="gallery" data-lazy-loaded="true">\n      <noscript>\n<img src="{{thumbnail}}" alt="{{title}}" width="1253" height="783" class="responsive-image--fallback"/>\n</noscript>\n      <img src="{{thumbnail}}" class="responsive-image__source" alt="{{title}}"></div>\n    <div class="list-of-entities__icon" title="Gallery"><span class="sr-only">Gallery</span></div>\n  </a>\n  <div class="list-of-entities__item-body">\n    <span class="m_meta-property">\n<time class="m_meta-property__date" title="13 May 2018, 12:00am" datetime="2018-05-13T12:00:06" itemprop="datePublished" pubdate="">\n<span class="m_meta-property__date-date">13 May 2018</span><span class="m_meta-property__date-separator">,</span>\n    <span class="m_meta-property__date-time">12:00am</span>\n    </time>\n    </span>\n    <h3 class="list-of-entities__item-body-headline"><a href="{{url}}"><span class="sr-only">Gallery: </span>{{title}}</a></h3>\n  </div>\n</div>',params:{requestFields:["url","title","thumbnail"]}},{name:"next_up",css:".mtech-read-next span.premium-label {\n  margin-left: 10px;\n}",description:"",params:{requestFields:["url","image","premium_label","title"]},requiredSelector:".mtech-read-next",maxCount:1,testFraction:100,id:1519,itemTemplate:'<a class="mtech-read-next__link" href="{{url}}">\n  <div class="mtech-read-next__container recommended-articles__title">\n    <div class="mtech-read-next__row">\n      <p class="mtech-read-next__section-title">Read Next</p>\n    </div>\n    <div class="mtech-read-next__row mtech-read-next__row--content-row">\n      <div class="mtech-read-next__column mtech-read-next__column--image-column">\n        <img class="mtech-read-next__image" src="{{image}}" />\n      </div>\n      <div class="mtech-read-next__column mtech-read-next__column--title-column">\n        {{{premium_label}}}\n        <p class="mtech-read-next__article-title">{{title}}</p>\n      </div>\n    </div>\n  </div>\n</a>',selector:".article__sidebar-inner .mtech-read-next",view:"live",trigger:{name:"visible",selector:".mtech-read-next",fireOnce:!0}},{name:"next_up_mobile",description:"",optimizationMethod:"recommended",params:{requestFields:["url","external_image","image","premium_label","title"]},requiredSelector:".mtech-mobile-readnext",timeStamp:1570034464,maxCount:1,testFraction:100,id:1919,itemTemplate:'<a class="mtech-mobile-readnext__link" href="{{url}}">\n  <div class="mtech-mobile-readnext__container">\n    <div class="mtech-mobile-readnext__row">\n      <span class="mtech-mobile-readnext__section-title">Read Next</span>\n    </div>\n    <div class="mtech-mobile-readnext__row mtech-mobile-readnext__row--content-row">\n      <div class="mtech-mobile-readnext__column mtech-mobile-readnext__column--image-column">\n        <figure class="mtech-mobile-readnext__image-container">\n          <img class="mtech-read-next__image {{#external_image}}image--external{{/external_image}}" src="{{image}}{{^external_image}}?&impolicy=utilities-thumbnail{{/external_image}}" />\n        </figure>\n      </div>\n      <div class="mtech-mobile-readnext__column mtech-mobile-readnext__column--title-column">\n        {{{premium_label}}}\n        <p class="mtech-mobile-readnext__article-title">{{title}}</p>\n      </div>\n    </div>\n  </div>\n</a>',selector:".mtech-mobile-readnext",view:"live",trigger:{name:"domnodeinserted",selector:".mtech-mobile-readnext"}},{name:"Travel",uuid:"a098d1fd-b387-486e-ae08-49662f69db40",maxCount:21,defaultRule:"Travel-widget",testFraction:100,includeRegex:"www.telegraph.co.uk/travel/",requiredSelector:".snippet-onward-journey",view:"draft",selector:"div.snippet-onward-journey > div > div > div.list.version-5.section > div > div.js-list-of-entities.component-content > ol > li.list-of-entities__item",itemTemplate:'<div class="list-of-entities__item-link">\n  <a href="{{url}}" class="list-of-entities__item-image-container" tabindex="-1" data-frz-ratio="1.60" data-frz-parent="" style="background-image: url(&quot;{{image}}&quot;);">\n    <div class="responsive-image list-of-entities__item-image " data-width="320" data-height="199" data-alt="Folies-Bergère, Paris" data-frz-ratio="1.60" data-src="{{image}}" style="padding-bottom:62.19%;" data-asset-type="article" data-lazy-loaded="true">\n      <noscript>\n<img src="{{image}}" alt="{{title}}" width="320" height="199" class="responsive-image--fallback"/>\n</noscript>\n      <img src="{{image}}" class="responsive-image__source" alt="{{title}}"></div>\n  </a>\n  <div class="list-of-entities__item-body">\n    <span class="m_meta-property">\n<time class="m_meta-property__date" title="{{displayDate}}" datetime="{{published_time}}" itemprop="datePublished" pubdate="">\n<span class="m_meta-property__date-date" style="display: none;"></span><span class="m_meta-property__date-separator" style="display: none;">,</span>\n    <span class="m_meta-property__date-time" style="display: none;"></span>\n    <span class="m_meta-property__date-descriptor">{{displayDate}}</span></time>\n    </span>\n    <h3 class="list-of-entities__item-body-headline">\n      <a href="{{url}}">{{title}}</a>\n    </h3>\n  </div>\n</div>',params:{requestFields:["url","title","image","published_time","displayDate","pageType","continent","country","city"]}},{newWidget:{insertionType:"replace",selector:"#target-container.li-recommended-reads",template:'<div class="js-list-of-entities component-content" data-options="{\'url\': \'\', \'noArrows\': false, \'sliderMobileOnly\': \'false\'}">\n  <h3 class="li-category-title">Recommended from The Telegraph</h3>\n  <ol class="js-list-of-entities__container list-of-entities__container">\n    <li class="list-of-entities__item premium"></li>\n    <li class="list-of-entities__item premium"></li>\n    <li class="list-of-entities__item premium"></li>\n    <li class="list-of-entities__item"></li>\n    <li class="list-of-entities__item"></li>\n    <li class="list-of-entities__item"></li>\n  </ol>\n</div>'},name:"recommended_reads",css:".li-recommended-reads .list-of-entities.version-6 .list-of-entities__container {\n  margin: -16px;\n  padding-bottom: 32px;\n}\n\n.li-recommended-reads .list-of-entities__container {\n  list-style: none;\n  counter-reset: section;\n  padding: 0 0 32px 0;\n  margin: -16px;\n}\n\n.li-recommended-reads .responsive-image__source {\n  height: auto;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.li-recommended-reads img {\n  max-width: 100%;\n}\n\n.li-recommended-reads img {\n  vertical-align: middle;\n}\n\n.li-recommended-reads .list-of-entities__item.premium {\n  border-right: 1px solid #e1e1e1;\n}\n\n.li-recommended-reads img {\n  border: 0;\n}\n\n.li-recommended-reads div.responsive-image {\n  background-color: #f0f0f0;\n  background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg…2translate%2886.768%2083.377%29%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E);\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: 15%;\n  height: 0;\n  overflow: hidden;\n  position: relative;\n}\n\n.li-recommended-reads .list-of-entities__item-image {\n  width: 100%;\n  height: auto;\n}\n\n.li-recommended-reads .list-of-entities__item {\n  width: 25%;\n  padding: 0;\n}\n\n.li-recommended-reads .list-of-entities__item-body-headline {\n  margin: 0;\n  padding: 4px 0 8px 0;\n  -webkit-flex-basis: 100%;\n  -ms-flex-preferred-size: 100%;\n  flex-basis: 100%;\n  -webkit-box-ordinal-group: 2;\n  -webkit-order: 1;\n  -ms-flex-order: 1;\n  order: 1;\n  font-size: 1em;\n}\n\n.li-recommended-reads .list-of-entities__item .premium-label {\n  margin-top: 4px;\n  margin-left: 12px;\n}\n\n.li-category-title {\n  margin-bottom: 25px;\n  font-size: 2em;\n}\n\n/*\n#target-container .list-of-entities__container .list-of-entities__item:nth-child(n+5) {\n  display: block;\n}\n\n.li-recommended-reads .list-of-entities__item {\n  width: 33%;\n  padding: 0;\n}\n*/",defaultBoost:"premium",description:"bottom article 4 items side by side",params:{requestFields:["url","image","title","image","image","title","image","title","premium_label","url","title"]},requiredSelector:".li-recommended-reads",defaultFilter:"recommended_reads",maxCount:6,testFraction:100,id:1378,itemTemplate:'<div class="list-of-entities__item-link">\n  <a href="{{url}}" class="list-of-entities__item-image-container" tabindex="-1" data-frz-ratio="1.60" data-frz-parent="" style="background-image: url(&quot;{{image}}-small_trans_NvBQzQNjv4BqNJjoeBT78QIaYdkJdEY4CnGTJFJS74MYhNY6w3GNbO8.jpeg&quot;);">\n    <div class="responsive-image list-of-entities__item-image " data-width="288" data-height="179" data-alt="{{title}}" data-frz-ratio="1.60" data-src="{{image}}-small_trans_NvBQzQNjv4BqNJjoeBT78QIaYdkJdEY4CnGTJFJS74MYhNY6w3GNbO8.jpeg" style="padding-bottom:62.15%;" data-asset-type="article" data-lazy-loaded="true">\n      <noscript>\n        <img src="{{image}}" alt="{{title}}" width="288" height="179" class="responsive-image--fallback" />\n      </noscript>\n      <img src="{{image}}" class="responsive-image__source" alt="{{title}}"></div>\n  </a>\n  <div class="list-of-entities__item-body">\n    {{{premium_label}}}\n    <h3 class="list-of-entities__item-body-headline">\n      <a href="{{url}}" data-rel="editorial">{{title}}</a>\n    </h3>\n\n  </div>\n</div>',selector:"#target-container.li-recommended-reads .list-of-entities__item",view:"live",trigger:{name:"visible",selector:"#comments",fireOnce:!0}},{newWidget:{insertionType:"replace",selector:".martech-article-template-four",template:'<div class="martech-cards-component__item"></div>\n<div class="martech-cards-component__item"></div>\n<div class="martech-cards-component__item"></div>\n<div class="martech-cards-component__item"></div>'},name:"new_article_template_lineof4",description:"martech-article-template-four",optimizationMethod:"recommended",params:{requestFields:["url","image","premium_label","title"]},requiredSelector:".martech-article-template-four",timeStamp:1570460707,maxCount:4,testFraction:100,id:1964,itemTemplate:'<div class="martech-cards-component__item-link">\n  <a class="martech-card-component__image-container" href="{{url}}">\n    <figure class="martech-card__figure">\n      <img src="{{image}}" />\n    </figure>\n  </a>\n  <div class="martech-cards-component__body-container">\n    {{{premium_label}}}\n    <h3 class="martech-list-headline">\n      <a class="martech-list-headline__link" href="{{url}}">\n        <span class="martech-list-headline__text">{{title}}</span>\n      </a>\n    </h3>\n  </div>\n</div>\n',selector:".martech-article-template-four .martech-cards-component__item",view:"live",trigger:{name:"domnodeinserted",selector:".martech-article-template-four"}},{newWidget:{insertionType:"replace",selector:".martech-article-template-six",template:'<div class="martech-sm-3-xs-6">\n  <div class="martech-cards-component__item"></div>\n  <div class="martech-cards-component__item"></div>\n  <div class="martech-cards-component__item"></div>\n  <div class="martech-cards-component__item"></div>\n</div>\n<div class="martech-sm-6-xs-12 martech-horizontal-article">\n  <div class="martech-cards-component__item"></div>\n  <div class="martech-cards-component__item"></div>\n</div>'},name:"new_article_template_lineof6",description:"martech-article-template-six",optimizationMethod:"recommended",params:{requestFields:["url","image","premium_label","title","author","cosmeticDate"]},requiredSelector:".martech-article-template-six",timeStamp:1571137118,maxCount:6,testFraction:100,id:1965,itemTemplate:'  <div class="martech-cards-component__item-link">\n    <a class="martech-card-component__image-container" href="{{url}}">\n      <figure class="martech-card__figure">\n        <img src="{{image}}" />\n      </figure>\n    </a>\n    <div class="martech-cards-component__body-container">\n      {{{premium_label}}}\n      <h3 class="martech-list-headline">\n        <a class="martech-list-headline__link" href="{{url}}">\n          <span class="martech-list-headline__text">{{title}}</span>\n        </a>\n      </h3>\n      <div class="martech-u-meta martech-card__meta">\n        <div class="martech-card__meta-wrapper">\n          <span class="martech-e-byline__bytext">By</span>\n          <span class="martech-e-byline__author">{{author}}</span>\n          <time class="martech-card__date">{{cosmeticDate}}</time>\n        </div>\n      </div>\n    </div>\n  </div>',selector:".martech-article-template-six .martech-cards-component__item",view:"live",trigger:{name:"domnodeinserted",selector:".martech-article-template-six"}},{newWidget:{insertionType:"replace",selector:".martech-article-template-two",template:'<div class="martech-cards-component__item"></div>\n<div class="martech-cards-component__item"></div>'},name:"new_article_template_lineof2",description:"martech-article-template-two",optimizationMethod:"recommended",params:{requestFields:["url","image","premium_label","title"]},requiredSelector:".martech-article-template-two",timeStamp:1570461e3,maxCount:2,testFraction:100,id:1963,itemTemplate:'<div class="martech-cards-component__item-link">\n  <a class="martech-card-component__image-container" href="{{url}}">\n    <figure class="martech-card__figure">\n      <img src="{{image}}" />\n    </figure>\n  </a>\n  <div class="martech-cards-component__body-container">\n    {{{premium_label}}}\n    <h3 class="martech-list-headline">\n      <a class="martech-list-headline__link" href="{{url}}">\n        <span class="martech-list-headline__text">{{title}}</span>\n      </a>\n    </h3>\n  </div>\n</div>',selector:".martech-article-template-two .martech-cards-component__item",view:"live",trigger:{name:"domnodeinserted",selector:".martech-article-template-two"}}]},modules:{Mustache:i.a,ModelQuery:a.default,Widgets:o.default,Inventory:s.default,AutoRender:c.default,AutoEvents:l.default}},d=n(25),f=n(0),m=n(11),g=n(10),p=n(3),h=n(1);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}m.a.addEarlyExtension("fb6cjraf9cejut2a",{run:function(){f.a.inventory.mandatoryOpenGraphFeatures=["url","title","type"],f.a.sdk.multiFetch=!0,f.a.sdk.overrideShouldFetch=!0,f.a.sdk.allowDelayedRegister=!0,f.a.sdk.allowLazyRegister=!0,f.a.sdk.autoRenderItemTransform=function(t){0===e||2===e||5===e?(t.email_weve_missed_you_premium_label='<span class="premium-label">Premium</span>',e++):t.email_weve_missed_you_premium_label="";t&&t.businessSegment&&(t.businessSegment=t.businessSegment[0].toUppercase()+t.businessSegment.slice(1));t&&t.image&&(t.external_image=-1===t.image.indexOf("telegraph.co.uk")?"true":"");return t},f.a.globalCtx=h.I(f.a.globalCtx,{userStatus:window.dataLayer&&window.dataLayer.userStatus||"unknown"}),f.a.consentManagement.sendScriptErrorOnTcfApi=!1,f.a.sdk.checkItemsMismatchByWidgetName={"amp-pages-2":!1};var e=0;function t(e,t,n,r){var i={conversion_t:t};n&&(i.buttonText=n),r&&(i.userStatus=r),window[f.a.pmVar]("sendRobust",e,i)}function n(e,r,i,a,o,s){if(h.h("Checking for the selector "+e+", conversion_t = "+r+", numTries = "+s),0!==s){var c=document.querySelector(e);c&&i&&c.innerText!==i?h.h("We found the selector "+e+"for conversion_t = "+r+' but the innerText "'+c.innerText+'" did not match the expected text "'+i+'"'):c?function(e,n,r){var i=e.innerText,a=window.dataLayer&&window.dataLayer.userStatus||"unknown";h.h("Adding event listener for button click for conversion_t = "+n+', buttonText = "'+i+'", userStatus = '+a),r&&t("conversion_shown",n,i,a),e.addEventListener("click",(function(){h.h("Detected button click for conversion_t = "+n+', buttonText = "'+i+'", userStatus = '+a),t("conversion",n,i,a)}))}(c,r,a):(h.h("We did not find the selector "+e+", so retrying after "+o+" ms, numTries = "+s),setTimeout((function(){n(e,r,i,a,o,s-1)}),o))}else h.h("Max tries reached. Not going to check for selector "+e+" for conversion_t "+r)}n(".e-site-header-button.e-site-header-button--subscribe","subscribe_start_header",void 0,!1,100,100),n(".e-site-header-button.e-site-header-button--sign-in","sign_in_start_header",void 0,!1,100,100),n(".all-sections__subscribe-button","subscribe_start_hamburger",void 0,!1,100,1e4),n(".all-sections__user-state-link","sign_in_start_hamburger","Log in",!1,100,1e4),n(".dynamic-paywall__product-cta.dynamic-paywall__product-cta1","register_start_inline",void 0,!0,100,100),n(".dynamic-paywall__product-cta.dynamic-paywall__product-cta2","subscribe_start_inline_old","Start free trial",!0,100,100),n(".dynamic-paywall__product-cta.dynamic-paywall__product-cta2","buy_pass_start_inline","Buy pass",!0,100,100),n(".dynamic-paywall__product-cta.dynamic-paywall__product-cta2","sign_in_start_inline","Log in",!0,100,100),n(".martech-component__cta","subscribe_start_footer",void 0,!0,100,100),n(".dynamic-paywall__textlink.dynamic-paywall__login","sign_in_start_inline_header",void 0,!1,100,100),n(".variation-paywall__cta.variation-paywall__cta-offer","subscribe_start_meter_inline","Start your free trial",!0,100,100),n(".dynamic-paywall__footer-container > a","view_subscription_options",void 0,!0,100,100),n(".martech-escenic-regwall__cta","register_start_popup_old_pages","Register",!0,100,1e4),n(".martech-escenic-regwall__login-cta","sign_in_start_popup_old_pages","Login",!0,100,1e4),n(".martech-escenic-paywall__cta","subscribe_start_old_site_popup","Start your free trial",!0,100,100),n(".martech-engaged-audience__cta","subscribe_start_popup","Try now",!0,100,1e4),n(".martech-new-paywall-mechanism__button","subscribe_start_inline","Start free trial",!0,100,1e4),n(".martech-hard-paywall__cta","subscribe_start_popup_hard_paywall","Start your free trial",!0,100,1e4)}}),m.a.addExtension("fb6cjraf9cejut2a",{run:function(){var e=f.a.inventory.collect;f.a.inventory.collect=!1;for(var t=[{name:"pageType",selector:"meta[name='tmgads.pagetype']",type:"attribute",attribute:"content"},{name:"businessSegment",selector:"meta[name='tmgads.businessSegment']",type:"attribute",attribute:"content"},{name:"channel",selector:"meta[name='DCSext.Channel']",type:"attribute",attribute:"content"},{name:"keywords",type:"varArray",variable:"window.liftIgniterPageKeywords"},{name:"premiumState",selector:"meta[name='tmg.premium.state']",type:"attribute",attribute:"content"},{name:"displayDate",selector:"meta[name='DCSext.articleFirstPublished']",type:"attribute",attribute:"content"},{name:"published_time",selector:"meta[itemprop='datePublished']",type:"attribute",attribute:"content"}],n=g.a.scrapeOpenGraph(),r=0;r<t.length;r++){var i=t[r],a=g.a.scrapeFeature(i);"object"===_(a)&&a instanceof Array&&(a=a.filter((function(e){return null!=e}))),a&&a.length>0&&(n[i.name]=a)}void 0===n.published_time&&(n.published_time=n.displayDate);var o="";null!=document.querySelector('meta[name="tmgads.pagetype"]')&&(o=document.querySelector('meta[name="tmgads.pagetype"]').content);if(o){var s="travel-review"===o?".calendar-availability .travel-price__price":".info-bar--clone .check-availability-cta .component-content .travel-price__wrap .travel-price__price";null!=document.querySelector(s)&&(n.price=document.querySelector(s).innerHTML.trim())}e&&n.title&&p.a.sendItem(n)}}),d.a.start(u)}]);